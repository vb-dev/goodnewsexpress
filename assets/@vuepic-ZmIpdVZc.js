import{r as Ha,a as X,d as Ye,u as Ma,t as Za,o as Fe,n as pa,b as at,w as ma,c as W,e as D,f as F,g as Ue,h as Le,i as $e,j as ye,k as te,l as Pe,m as Ie,p as c,q as Ve,s as Ft,v as be,T as Pa,x as z,y as tt,z as Sl,A as ke,B as Rl,C as Ht,D as de,E as se,F as De,G as ge,H as Xe,I as Ne,J as ua,K as Pl,L as Xa,M as Ka,N as Tl,O as Ol}from"./@vue-Ce6ZiqE8.js";import{g as he,a as Bl,b as pe,e as al,d as Vl,f as ta,i as Ea,c as xa,h as Ia,s as Me,j as tl,k as Yl,l as Ja,m as aa,n as ll,o as Ke,p as la,q as Ca,r as wa,t as Wt,u as Nl,v as El,w as Il,x as Ll,y as zt,z as nl,A as rl,B as Ct,C as St,D as At,E as La,F as jt,G as Fl,H as ol,I as Hl,J as Wl,K as ba,L as zl,M as ul,N as jl}from"./date-fns-yTEne-Om.js";function Ta(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),se("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),se("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),se("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ta.compatConfig={MODE:3};function il(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),se("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}il.compatConfig={MODE:3};function Rt(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Rt.compatConfig={MODE:3};function Pt(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Pt.compatConfig={MODE:3};function Tt(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),se("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Tt.compatConfig={MODE:3};function Ot(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Ot.compatConfig={MODE:3};function Bt(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[se("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Bt.compatConfig={MODE:3};function Ut(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}function Ul(e){return a=>ta(new Date(`2017-01-0${a}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Gl=(e,a,o)=>{const l=[1,2,3,4,5,6,7];let t;if(e!==null)try{t=l.map(Ul(e))}catch{t=l.map(Ut(a))}else t=l.map(Ut(a));const v=t.slice(0,o),u=t.slice(o+1,t.length);return[t[o]].concat(...u).concat(...v)},Vt=(e,a)=>{const o=[];for(let l=+e[0];l<=+e[1];l++)o.push({value:+l,text:`${l}`});return a?o.reverse():o},sl=(e,a,o)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map(v=>{const u=v<10?`0${v}`:v;return new Date(`2017-${u}-01T00:00:00+00:00`)});if(e!==null)try{const v=o==="long"?"MMMM":"MMM";return l.map((u,y)=>{const b=ta(u,v,{locale:e});return{text:b.charAt(0).toUpperCase()+b.substring(1),value:y}})}catch{}const t=new Intl.DateTimeFormat(a,{month:o,timeZone:"UTC"});return l.map((v,u)=>{const y=t.format(v);return{text:y.charAt(0).toUpperCase()+y.substring(1),value:u}})},ql=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Te=e=>{const a=c(e);return a!=null&&a.$el?a==null?void 0:a.$el:a},Ql=e=>({type:"dot",...e??{}}),dl=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Yt={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Oe=e=>e,Gt=e=>e===0?e:!e||isNaN(+e)?null:+e,qt=e=>e===null,cl=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Xl=e=>{const a=[],o=l=>l.filter(t=>t);for(let l=0;l<e.length;l+=3){const t=[e[l],e[l+1],e[l+2]];a.push(o(t))}return a},Fa=(e,a,o)=>{const l=o!=null,t=a!=null;if(!l&&!t)return!1;const v=+o,u=+a;return l&&t?+e>v||+e<u:l?+e>v:t?+e<u:!1},Sa=(e,a)=>Xl(e).map(o=>o.map(l=>{const{active:t,disabled:v,isBetween:u,highlighted:y}=a(l);return{...l,active:t,disabled:v,className:{dp__overlay_cell_active:t,dp__overlay_cell:!t,dp__overlay_cell_disabled:v,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:v&&t,dp__cell_in_between:u,"dp--highlighted":y}}})),ca=(e,a,o=!1)=>{e&&a.allowStopPropagation&&(o&&e.stopImmediatePropagation(),e.stopPropagation())},Kl=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Jl(e,a){let o=[...document.querySelectorAll(Kl())];o=o.filter(t=>!e.contains(t)||t.hasAttribute("data-datepicker-instance"));const l=o.indexOf(e);if(l>=0&&(a?l-1>=0:l+1<=o.length))return o[l+(a?-1:1)]}const Zl=(e,a)=>e==null?void 0:e.querySelector(`[data-dp-element="${a}"]`),Nt=e=>ta(e,"dd-MM-yyyy"),mt=e=>Array.isArray(e),et=(e,a)=>a.get(Nt(e)),en=(e,a)=>e?a?a instanceof Map?!!et(e,a):a(B(e)):!1:!0,Qt=(e,a,o,l,t)=>{const v=At(e,a.slice(0,e.length),new Date);return Ja(v)&&zl(v)?l||t?v:Me(v,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},an=(e,a,o,l,t)=>{const v=Array.isArray(o)?o[0]:o;if(typeof a=="string")return Qt(e,a,v,l,t);if(Array.isArray(a)){let u=null;for(const y of a)if(u=Qt(e,y,v,l,t),u)break;return u}return typeof a=="function"?a(e):null},B=e=>e?new Date(e):new Date,tn=(e,a,o)=>{if(a){const t=(e.getMonth()+1).toString().padStart(2,"0"),v=e.getDate().toString().padStart(2,"0"),u=e.getHours().toString().padStart(2,"0"),y=e.getMinutes().toString().padStart(2,"0"),b=o?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${t}-${v}T${u}:${y}:${b}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()},ze=e=>{let a=B(JSON.parse(JSON.stringify(e)));return a=nl(a,0),a=rl(a,0),a=Ct(a,0),a=St(a,0),a},va=(e,a,o,l)=>{let t=e?B(e):B();return(a||a===0)&&(t=nl(t,+a)),(o||o===0)&&(t=rl(t,+o)),(l||l===0)&&(t=Ct(t,+l)),St(t,0)},Se=(e,a)=>!e||!a?!1:Ea(ze(e),ze(a)),_e=(e,a)=>!e||!a?!1:xa(ze(e),ze(a)),Re=(e,a)=>!e||!a?!1:Ia(ze(e),ze(a)),lt=(e,a,o)=>e!=null&&e[0]&&e!=null&&e[1]?Re(o,e[0])&&Se(o,e[1]):e!=null&&e[0]&&a?Re(o,e[0])&&Se(o,a)||Se(o,e[0])&&Re(o,a):!1,Qe=e=>{const a=Me(new Date(e),{date:1});return ze(a)},yt=(e,a,o)=>a&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(l=>l===a?[l,o]:[l,isNaN(+e[l])?void 0:+e[l]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ka=e=>({hours:Ke(e),minutes:la(e),seconds:Ca(e)}),vl=(e,a)=>{if(a){const o=pe(B(a));if(o>e)return 12;if(o===e)return he(B(a))}},pl=(e,a)=>{if(a){const o=pe(B(a));return o<e?-1:o===e?he(B(a)):void 0}},Ra=e=>{if(e)return pe(B(e))},ml=(e,a)=>{const o=Re(e,a)?a:e,l=Re(a,e)?a:e;return al({start:o,end:l})},ln=e=>{const a=wa(e,1);return{month:he(a),year:pe(a)}},ra=(e,a)=>{const o=tl(e,{weekStartsOn:+a}),l=Yl(e,{weekStartsOn:+a});return[o,l]},yl=(e,a)=>{const o={hours:Ke(B()),minutes:la(B()),seconds:a?Ca(B()):0};return Object.assign(o,e)},da=(e,a,o)=>[Me(B(e),{date:1}),Me(B(),{month:a,year:o,date:1})],oa=(e,a,o)=>{let l=e?B(e):B();return(a||a===0)&&(l=Fl(l,a)),o&&(l=aa(l,o)),l},fl=(e,a,o,l,t)=>{if(!l||t&&!a||!t&&!o)return!1;const v=t?wa(e,1):La(e,1),u=[he(v),pe(v)];return t?!rn(...u,a):!nn(...u,o)},nn=(e,a,o)=>Se(...da(o,e,a))||_e(...da(o,e,a)),rn=(e,a,o)=>Re(...da(o,e,a))||_e(...da(o,e,a)),hl=(e,a,o,l,t,v,u)=>{if(typeof a=="function"&&!u)return a(e);const y=o?{locale:o}:void 0;return Array.isArray(e)?`${ta(e[0],v,y)}${t&&!e[1]?"":l}${e[1]?ta(e[1],v,y):""}`:ta(e,v,y)},Aa=e=>{if(e)return null;throw new Error(Yt.prop("partial-range"))},qa=(e,a)=>{if(a)return e();throw new Error(Yt.prop("range"))},$t=e=>Array.isArray(e)?Ja(e[0])&&(e[1]?Ja(e[1]):!0):e?Ja(e):!1,on=(e,a)=>Me(a??B(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),ft=(e,a,o,l)=>{if(!e)return!0;if(l){const t=o==="max"?Ea(e,a):Ia(e,a),v={seconds:0,milliseconds:0};return t||xa(Me(e,v),Me(a,v))}return o==="max"?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},ht=(e,a,o)=>e?on(e,a):B(o??a),Xt=(e,a,o,l,t)=>{if(Array.isArray(l)){const u=ht(e,l[0],a),y=ht(e,l[1],a);return ft(l[0],u,o,!!a)&&ft(l[1],y,o,!!a)&&t}const v=ht(e,l,a);return ft(l,v,o,!!a)&&t},gt=e=>Me(B(),ka(e)),un=(e,a)=>e instanceof Map?Array.from(e.values()).filter(o=>pe(B(o))===a).map(o=>he(o)):[],gl=(e,a,o)=>typeof e=="function"?e({month:a,year:o}):!!e.months.find(l=>l.month===a&&l.year===o),Et=(e,a)=>typeof e=="function"?e(a):e.years.includes(a),Ya=Ha({menuFocused:!1,shiftKeyInMenu:!1}),_l=()=>{const e=o=>{Ya.menuFocused=o},a=o=>{Ya.shiftKeyInMenu!==o&&(Ya.shiftKeyInMenu=o)};return{control:W(()=>({shiftKeyInMenu:Ya.shiftKeyInMenu,menuFocused:Ya.menuFocused})),setMenuFocused:e,setShiftKey:a}},Ae=Ha({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),_t=X(null),Qa=X(!1),bt=X(!1),wt=X(!1),kt=X(!1),Ee=X(0),Be=X(0),fa=()=>{const e=W(()=>Qa.value?[...Ae.selectionGrid,Ae.actionRow].filter(p=>p.length):bt.value?[...Ae.timePicker[0],...Ae.timePicker[1],kt.value?[]:[_t.value],Ae.actionRow].filter(p=>p.length):wt.value?[...Ae.monthPicker,Ae.actionRow]:[Ae.monthYear,...Ae.calendar,Ae.time,Ae.actionRow].filter(p=>p.length)),a=p=>{Ee.value=p?Ee.value+1:Ee.value-1;let S=null;e.value[Be.value]&&(S=e.value[Be.value][Ee.value]),S||(Ee.value=p?Ee.value-1:Ee.value+1)},o=p=>{Be.value===0&&!p||Be.value===e.value.length&&p||(Be.value=p?Be.value+1:Be.value-1,e.value[Be.value]?e.value[Be.value]&&!e.value[Be.value][Ee.value]&&Ee.value!==0&&(Ee.value=e.value[Be.value].length-1):Be.value=p?Be.value-1:Be.value+1)},l=p=>{let S=null;e.value[Be.value]&&(S=e.value[Be.value][Ee.value]),S?S.focus({preventScroll:!Qa.value}):Ee.value=p?Ee.value-1:Ee.value+1},t=()=>{a(!0),l(!0)},v=()=>{a(!1),l(!1)},u=()=>{o(!1),l(!0)},y=()=>{o(!0),l(!0)},b=(p,S)=>{Ae[S]=p},P=(p,S)=>{Ae[S]=p},f=()=>{Ee.value=0,Be.value=0};return{buildMatrix:b,buildMultiLevelMatrix:P,setTimePickerBackRef:p=>{_t.value=p},setSelectionGrid:p=>{Qa.value=p,f(),p||(Ae.selectionGrid=[])},setTimePicker:(p,S=!1)=>{bt.value=p,kt.value=S,f(),p||(Ae.timePicker[0]=[],Ae.timePicker[1]=[])},setTimePickerElements:(p,S=0)=>{Ae.timePicker[S]=p},arrowRight:t,arrowLeft:v,arrowUp:u,arrowDown:y,clearArrowNav:()=>{Ae.monthYear=[],Ae.calendar=[],Ae.time=[],Ae.actionRow=[],Ae.selectionGrid=[],Ae.timePicker[0]=[],Ae.timePicker[1]=[],Qa.value=!1,bt.value=!1,kt.value=!1,wt.value=!1,f(),_t.value=null},setMonthPicker:p=>{wt.value=p,f()},refSets:Ae}},ya=(e,a)=>a?new Date(e.toLocaleString("en-US",{timeZone:a})):new Date(e),bl=(e,a)=>xt(e,a)||B(),sn=(e,a)=>a.dateInTz?ya(new Date(e),a.dateInTz):B(e),xt=(e,a)=>{if(!e)return null;if(!a)return B(e);const o=B(e);return a.exactMatch?sn(e,a):ya(o,a.timezone)},Kt=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),dn=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),Jt=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,cn=e=>{const a=typeof e=="object"&&e,o={static:!0,solo:!1};if(!e)return{...o,count:Jt(!1)};const l=a?e:{},t=a?l.count??!0:e,v=Jt(t);return Object.assign(o,l,{count:v})},vn=(e,a,o)=>e||(typeof o=="string"?o:a),pn=e=>typeof e=="boolean"?e?Kt({}):!1:Kt(e),mn=e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...a,...e??{},enabled:!0}:{...a,enabled:e}},yn=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),fn=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),hn=e=>{const a={input:!1};return typeof e=="object"?{...a,...e??{},enabled:!0}:{enabled:e,...a}},gn=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...e??{}}),_n=e=>{const a={dates:Array.isArray(e)?e.map(o=>B(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...a,...e??{}}},bn=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},wn=(e,a)=>typeof e=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...e}:{enabled:e,noDisabledRange:a.noDisabledRange,showLastInRange:a.showLastInRange,minMaxRawRange:a.minMaxRawRange,partialRange:a.partialRange,disableTimeRangeValidation:a.disableTimeRangeValidation,maxRange:a.maxRange,minRange:a.minRange,autoRange:a.autoRange,fixedStart:a.fixedStart,fixedEnd:a.fixedEnd},kn=(e,a)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:a}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:a??e.emitTimezone}:{timezone:void 0,exactMatch:!1,emitTimezone:a},Dt=(e,a)=>new Map(e.map(o=>{const l=bl(o,a);return[Nt(l),l]})),Dn=(e,a)=>e.length?new Map(e.map(o=>{const l=bl(o.date,a);return[Nt(l),o]})):null,Mn=(e,a,o,l,t,v,u)=>({minDate:xt(e,u),maxDate:xt(a,u),disabledDates:mt(o)?Dt(o,u):o,allowedDates:mt(l)?Dt(l,u):null,highlight:typeof t=="object"&&mt(t==null?void 0:t.dates)?Dt(t.dates,u):t,markers:Dn(v,u)}),Ce=e=>{const a=()=>{const $=e.enableSeconds?":ss":"";return e.is24?`HH:mm${$}`:`hh:mm${$} aa`},o=()=>{var $;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?`${(($=q.value)==null?void 0:$.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy"},l=$=>yl($,e.enableSeconds),t=()=>k.value.enabled?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,v=W(()=>cn(e.multiCalendars)),u=W(()=>t()),y=W(()=>dn(e.ariaLabels)),b=W(()=>yn(e.filters)),P=W(()=>pn(e.transitions)),f=W(()=>fn(e.actionRow)),p=W(()=>vn(e.previewFormat,e.format,o())),S=W(()=>mn(e.textInput)),w=W(()=>hn(e.inline)),N=W(()=>gn(e.config)),A=W(()=>_n(e.highlight)),q=W(()=>bn(e.weekNumbers)),K=W(()=>kn(e.timezone,e.emitTimezone)),J=W(()=>Mn(e.minDate,e.maxDate,e.disabledDates,e.allowedDates,A.value,e.markers,K.value)),k=W(()=>wn(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd}));return{defaultedTransitions:P,defaultedMultiCalendars:v,defaultedStartTime:u,defaultedAriaLabels:y,defaultedFilters:b,defaultedActionRow:f,defaultedPreviewFormat:p,defaultedTextInput:S,defaultedInline:w,defaultedConfig:N,defaultedHighlight:A,defaultedWeekNumbers:q,defaultedRange:k,propDates:J,defaultedTz:K,getDefaultPattern:o,getDefaultStartTime:t}},An=(e,a,o)=>{const l=X(),{defaultedTextInput:t,defaultedRange:v,defaultedTz:u,getDefaultPattern:y}=Ce(a),b=X(""),P=Za(a,"format");ma(l,()=>{e("internal-model-change",l.value)},{deep:!0}),ma(P,()=>{M()});const f=(r,n,d=!1)=>hl(r,a.format,a.formatLocale,t.value.rangeSeparator,a.modelAuto,n??y(),d),p=r=>r?a.modelType?m(r):{hours:Ke(r),minutes:la(r),seconds:a.enableSeconds?Ca(r):0}:null,S=r=>a.modelType?m(r):{month:he(r),year:pe(r)},w=r=>Array.isArray(r)?a.multiDates?r.map(n=>N(n,aa(B(),n))):qa(()=>[aa(B(),r[0]),r[1]?aa(B(),r[1]):Aa(v.value.partialRange)],v.value.enabled):aa(B(),+r),N=(r,n)=>(typeof r=="string"||typeof r=="number")&&a.modelType?i(r):n,A=r=>Array.isArray(r)?[N(r[0],va(null,+r[0].hours,+r[0].minutes,r[0].seconds)),N(r[1],va(null,+r[1].hours,+r[1].minutes,r[1].seconds))]:N(r,va(null,r.hours,r.minutes,r.seconds)),q=r=>{const n=Me(B(),{date:1});return Array.isArray(r)?a.multiDates?r.map(d=>N(d,oa(n,+d.month,+d.year))):qa(()=>[N(r[0],oa(n,+r[0].month,+r[0].year)),N(r[1],r[1]?oa(n,+r[1].month,+r[1].year):Aa(v.value.partialRange))],v.value.enabled):N(r,oa(n,+r.month,+r.year))},K=r=>{if(Array.isArray(r))return r.map(n=>i(n));throw new Error(Yt.dateArr("multi-dates"))},J=r=>{if(Array.isArray(r)&&v.value.enabled){const n=r[0],d=r[1];return[B(Array.isArray(n)?n[0]:null),B(Array.isArray(d)?d[0]:null)]}return B(r[0])},k=r=>a.modelAuto?Array.isArray(r)?[i(r[0]),i(r[1])]:a.autoApply?[i(r)]:[i(r),null]:Array.isArray(r)?qa(()=>r[1]?[i(r[0]),r[1]?i(r[1]):Aa(v.value.partialRange)]:[i(r[0])],v.value.enabled):i(r),$=()=>{Array.isArray(l.value)&&v.value.enabled&&l.value.length===1&&l.value.push(Aa(v.value.partialRange))},R=()=>{const r=l.value;return[m(r[0]),r[1]?m(r[1]):Aa(v.value.partialRange)]},I=()=>l.value[1]?R():m(Oe(l.value[0])),V=()=>(l.value||[]).map(r=>m(r)),Q=()=>($(),a.modelAuto?I():a.multiDates?V():Array.isArray(l.value)?qa(()=>R(),v.value.enabled):m(Oe(l.value))),G=r=>!r||Array.isArray(r)&&!r.length?null:a.timePicker?A(Oe(r)):a.monthPicker?q(Oe(r)):a.yearPicker?w(Oe(r)):a.multiDates?K(Oe(r)):a.weekPicker?J(Oe(r)):k(Oe(r)),ae=r=>{const n=G(r);$t(Oe(n))?(l.value=Oe(n),M()):(l.value=null,b.value="")},x=()=>{const r=n=>ta(n,t.value.format);return`${r(l.value[0])} ${t.value.rangeSeparator} ${l.value[1]?r(l.value[1]):""}`},Y=()=>o.value&&l.value?Array.isArray(l.value)?x():ta(l.value,t.value.format):f(l.value),T=()=>l.value?a.multiDates?l.value.map(r=>f(r)).join("; "):t.value.enabled&&typeof t.value.format=="string"?Y():f(l.value):"",M=()=>{!a.format||typeof a.format=="string"||t.value.enabled&&typeof t.value.format=="string"?b.value=T():b.value=a.format(l.value)},i=r=>{if(a.utc){const n=new Date(r);return a.utc==="preserve"?new Date(n.getTime()+n.getTimezoneOffset()*6e4):n}return a.modelType?a.modelType==="date"||a.modelType==="timestamp"?new Date(r):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?At(r,y(),new Date):At(r,a.modelType,new Date):new Date(r)},m=r=>r?a.utc?tn(r,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+r:a.modelType==="format"&&(typeof a.format=="string"||!a.format)?f(r):f(r,a.modelType,!0):r:"",O=(r,n=!1)=>{if(e("update:model-value",r),u.value.emitTimezone&&n){const d=Array.isArray(r)?r.map(C=>ya(Oe(C),u.value.emitTimezone)):ya(Oe(r),u.value.emitTimezone);e("update:model-timezone-value",d)}},ee=r=>Array.isArray(l.value)?a.multiDates?l.value.map(n=>r(n)):[r(l.value[0]),l.value[1]?r(l.value[1]):Aa(v.value.partialRange)]:r(Oe(l.value)),le=()=>{if(Array.isArray(l.value)){const r=ra(l.value[0],a.weekStart),n=l.value[1]?ra(l.value[1],a.weekStart):[];return[r.map(d=>B(d)),n.map(d=>B(d))]}return ra(l.value,a.weekStart).map(r=>B(r))},L=r=>O(Oe(ee(r)));return{inputValue:b,internalModelValue:l,checkBeforeEmit:()=>l.value?v.value.enabled?v.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:ae,formatInputValue:M,emitModelValue:()=>(M(),a.monthPicker?L(S):a.timePicker?L(p):a.yearPicker?L(pe):a.weekPicker?e("update:model-value",le()):O(Q(),!0))}},$n=(e,a)=>{const{defaultedFilters:o,propDates:l}=Ce(e),{validateMonthYearInRange:t}=ha(e),v=(f,p)=>{let S=f;return o.value.months.includes(he(S))?(S=p?wa(f,1):La(f,1),v(S,p)):S},u=(f,p)=>{let S=f;return o.value.years.includes(pe(S))?(S=p?ol(f,1):ul(f,1),u(S,p)):S},y=(f,p=!1)=>{const S=Me(B(),{month:e.month,year:e.year});let w=f?wa(S,1):La(S,1);e.disableYearSelect&&(w=aa(w,e.year));let N=he(w),A=pe(w);o.value.months.includes(N)&&(w=v(w,f),N=he(w),A=pe(w)),o.value.years.includes(A)&&(w=u(w,f),A=pe(w)),t(N,A,f,e.preventMinMaxNavigation)&&b(N,A,p)},b=(f,p,S)=>{a("update-month-year",{month:f,year:p,fromNav:S})},P=W(()=>f=>fl(Me(B(),{month:e.month,year:e.year}),l.value.maxDate,l.value.minDate,e.preventMinMaxNavigation,f));return{handleMonthYearChange:y,isDisabled:P,updateMonthYear:b}};var $a=(e=>(e.center="center",e.left="left",e.right="right",e))($a||{}),qe=(e=>(e.month="month",e.year="year",e))(qe||{}),_a=(e=>(e.top="top",e.bottom="bottom",e))(_a||{}),Da=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Da||{}),ea=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(ea||{});const xn=({menuRef:e,menuRefInner:a,inputRef:o,pickerWrapperRef:l,inline:t,emit:v,props:u,slots:y})=>{const b=X({}),P=X(!1),f=X({top:"0",left:"0"}),p=X(!1),S=Za(u,"teleportCenter");ma(S,()=>{f.value=JSON.parse(JSON.stringify({})),$()});const w=i=>{if(u.teleport){const m=i.getBoundingClientRect();return{left:m.left+window.scrollX,top:m.top+window.scrollY}}return{top:0,left:0}},N=(i,m)=>{f.value.left=`${i+m-b.value.width}px`},A=i=>{f.value.left=`${i}px`},q=(i,m)=>{u.position===$a.left&&A(i),u.position===$a.right&&N(i,m),u.position===$a.center&&(f.value.left=`${i+m/2-b.value.width/2}px`)},K=i=>{const{width:m,height:O}=i.getBoundingClientRect(),{top:ee,left:le}=u.altPosition?u.altPosition(i):w(i);return{top:+ee,left:+le,width:m,height:O}},J=()=>{f.value.left="50%",f.value.top="50%",f.value.transform="translate(-50%, -50%)",f.value.position="fixed",delete f.value.opacity},k=()=>{const i=Te(o),{top:m,left:O,transform:ee}=u.altPosition(i);f.value={top:`${m}px`,left:`${O}px`,transform:ee??""}},$=(i=!0)=>{var m;if(!t.value.enabled){if(S.value)return J();if(u.altPosition!==null)return k();if(i){const O=u.teleport?(m=a.value)==null?void 0:m.$el:e.value;O&&(b.value=O.getBoundingClientRect()),v("recalculate-position")}return x()}},R=({inputEl:i,left:m,width:O})=>{window.screen.width>768&&!P.value&&q(m,O),Q(i)},I=i=>{const{top:m,left:O,height:ee,width:le}=K(i);f.value.top=`${ee+m+ +u.offset}px`,p.value=!1,P.value||(f.value.left=`${O+le/2-b.value.width/2}px`),R({inputEl:i,left:O,width:le})},V=i=>{const{top:m,left:O,width:ee}=K(i);f.value.top=`${m-+u.offset-b.value.height}px`,p.value=!0,R({inputEl:i,left:O,width:ee})},Q=i=>{if(u.autoPosition){const{left:m,width:O}=K(i),{left:ee,right:le}=b.value;if(!P.value){if(Math.abs(ee)!==Math.abs(le)){if(ee<=0)return P.value=!0,A(m);if(le>=document.documentElement.clientWidth)return P.value=!0,N(m,O)}return q(m,O)}}},G=()=>{const i=Te(o);if(i){const{height:m}=b.value,{top:O,height:ee}=i.getBoundingClientRect(),le=window.innerHeight-O-ee,L=O;return m<=le?_a.bottom:m>le&&m<=L?_a.top:le>=L?_a.bottom:_a.top}return _a.bottom},ae=i=>G()===_a.bottom?I(i):V(i),x=()=>{const i=Te(o);if(i)return u.autoPosition?ae(i):I(i)},Y=function(i){if(i){const m=i.scrollHeight>i.clientHeight,O=window.getComputedStyle(i).overflowY.indexOf("hidden")!==-1;return m&&!O}return!0},T=function(i){return!i||i===document.body||i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:Y(i)?i:T(i.parentNode)},M=i=>{if(i)switch(u.position){case $a.left:return{left:0,transform:"translateX(0)"};case $a.right:return{left:`${i.width}px`,transform:"translateX(-100%)"};default:return{left:`${i.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:f,xCorrect:P,setMenuPosition:$,getScrollableParent:T,shadowRender:(i,m)=>{var O,ee,le;const L=document.createElement("div"),r=(O=Te(o))==null?void 0:O.getBoundingClientRect();L.setAttribute("id","dp--temp-container");const n=(ee=l.value)!=null&&ee.clientWidth?l.value:document.body;n.append(L);const d=M(r),C=Rl(i,{...m,shadow:!0,style:{opacity:0,position:"absolute",...d}},Object.fromEntries(Object.keys(y).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,y[Z]])));Ht(C,L),b.value=(le=C.el)==null?void 0:le.getBoundingClientRect(),Ht(null,L),n.removeChild(L)}}},sa=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Cn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Sn={all:()=>sa,monthYear:()=>sa.filter(e=>e.use.includes("month-year")),input:()=>Cn,timePicker:()=>sa.filter(e=>e.use.includes("time")),action:()=>sa.filter(e=>e.use.includes("action")),calendar:()=>sa.filter(e=>e.use.includes("calendar")),menu:()=>sa.filter(e=>e.use.includes("menu")),shared:()=>sa.filter(e=>e.use.includes("shared")),yearMode:()=>sa.filter(e=>e.use.includes("year-mode"))},We=(e,a,o)=>{const l=[];return Sn[a]().forEach(t=>{e[t.name]&&l.push(t.name)}),o!=null&&o.length&&o.forEach(t=>{t.slot&&l.push(t.slot)}),l},Wa=e=>{const a=W(()=>l=>e.value?l?e.value.open:e.value.close:""),o=W(()=>l=>e.value?l?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:a,showTransition:!!e.value,menuTransition:o}},za=(e,a)=>{const{defaultedRange:o,defaultedTz:l}=Ce(e),t=B(ya(B(),l.value.timezone)),v=X([{month:he(t),year:pe(t)}]),u=Ha({hours:o.value.enabled?[Ke(t),Ke(t)]:Ke(t),minutes:o.value.enabled?[la(t),la(t)]:la(t),seconds:o.value.enabled?[0,0]:0}),y=W({get:()=>e.internalModelValue,set:f=>{!e.readonly&&!e.disabled&&a("update:internal-model-value",f)}}),b=W(()=>f=>v.value[f]?v.value[f].month:0),P=W(()=>f=>v.value[f]?v.value[f].year:0);return{calendars:v,time:u,modelValue:y,month:b,year:P}},Rn=(e,a)=>{const{defaultedMultiCalendars:o,defaultedHighlight:l,defaultedTz:t,propDates:v,defaultedRange:u}=Ce(a),{isDisabled:y}=ha(a),b=X(null),P=X(ya(new Date,t.value.timezone)),f=n=>{!n.current&&a.hideOffsetDates||(b.value=n.value)},p=()=>{b.value=null},S=n=>Array.isArray(e.value)&&u.value.enabled&&e.value[0]&&b.value?n?Re(b.value,e.value[0]):Se(b.value,e.value[0]):!0,w=(n,d)=>{const C=()=>e.value?d?e.value[0]||null:e.value[1]:null,Z=e.value&&Array.isArray(e.value)?C():null;return _e(B(n.value),Z)},N=n=>{const d=Array.isArray(e.value)?e.value[0]:null;return n?!Se(b.value??null,d):!0},A=(n,d=!0)=>(u.value.enabled||a.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?a.hideOffsetDates&&!n.current?!1:_e(B(n.value),e.value[d?0:1]):u.value.enabled?w(n,d)&&N(d)||_e(n.value,Array.isArray(e.value)?e.value[0]:null)&&S(d):!1,q=(n,d,C)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?n?!1:C?Re(e.value[0],d.value):Se(e.value[0],d.value):!1,K=n=>!e.value||a.hideOffsetDates&&!n.current?!1:u.value.enabled?a.modelAuto&&Array.isArray(e.value)?_e(n.value,e.value[0]?e.value[0]:P.value):!1:a.multiDates&&Array.isArray(e.value)?e.value.some(d=>_e(d,n.value)):_e(n.value,e.value?e.value:P.value),J=n=>{if(u.value.autoRange||a.weekPicker){if(b.value){if(a.hideOffsetDates&&!n.current)return!1;const d=ba(b.value,+u.value.autoRange),C=ra(B(b.value),a.weekStart);return a.weekPicker?_e(C[1],B(n.value)):_e(d,B(n.value))}return!1}return!1},k=n=>{if(u.value.autoRange||a.weekPicker){if(b.value){const d=ba(b.value,+u.value.autoRange);if(a.hideOffsetDates&&!n.current)return!1;const C=ra(B(b.value),a.weekStart);return a.weekPicker?Re(n.value,C[0])&&Se(n.value,C[1]):Re(n.value,b.value)&&Se(n.value,d)}return!1}return!1},$=n=>{if(u.value.autoRange||a.weekPicker){if(b.value){if(a.hideOffsetDates&&!n.current)return!1;const d=ra(B(b.value),a.weekStart);return a.weekPicker?_e(d[0],n.value):_e(b.value,n.value)}return!1}return!1},R=n=>lt(e.value,b.value,n.value),I=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,V=()=>a.modelAuto?dl(a.internalModelValue):!0,Q=n=>{if(Array.isArray(e.value)&&e.value.length||a.weekPicker)return!1;const d=u.value.enabled?!A(n)&&!A(n,!1):!0;return!y(n.value)&&!K(n)&&!(!n.current&&a.hideOffsetDates)&&d},G=n=>u.value.enabled?a.modelAuto?I()&&K(n):!1:K(n),ae=n=>l.value?en(n.value,v.value.highlight):!1,x=n=>{const d=y(n.value);return d&&(typeof l.value=="function"?!l.value(n.value,d):!l.value.options.highlightDisabled)},Y=n=>{var d;return typeof l.value=="function"?l.value(n.value):(d=l.value.weekdays)==null?void 0:d.includes(n.value.getDay())},T=n=>(u.value.enabled||a.weekPicker)&&(!(o.value.count>0)||n.current)&&V()&&!(!n.current&&a.hideOffsetDates)&&!K(n)?R(n):!1,M=n=>{const{isRangeStart:d,isRangeEnd:C}=ee(n),Z=u.value.enabled?d||C:!1;return{dp__cell_offset:!n.current,dp__pointer:!a.disabled&&!(!n.current&&a.hideOffsetDates)&&!y(n.value),dp__cell_disabled:y(n.value),dp__cell_highlight:!x(n)&&(ae(n)||Y(n))&&!G(n)&&!Z&&!$(n)&&!(T(n)&&a.weekPicker)&&!C,dp__cell_highlight_active:!x(n)&&(ae(n)||Y(n))&&G(n),dp__today:!a.noToday&&_e(n.value,P.value)&&n.current,"dp--past":Se(n.value,P.value),"dp--future":Re(n.value,P.value)}},i=n=>({dp__active_date:G(n),dp__date_hover:Q(n)}),m=n=>{if(e.value&&!Array.isArray(e.value)){const d=ra(e.value,a.weekStart);return{...L(n),dp__range_start:_e(d[0],n.value),dp__range_end:_e(d[1],n.value),dp__range_between_week:Re(n.value,d[0])&&Se(n.value,d[1])}}return{...L(n)}},O=n=>{if(e.value&&Array.isArray(e.value)){const d=ra(e.value[0],a.weekStart),C=e.value[1]?ra(e.value[1],a.weekStart):[];return{...L(n),dp__range_start:_e(d[0],n.value)||_e(C[0],n.value),dp__range_end:_e(d[1],n.value)||_e(C[1],n.value),dp__range_between_week:Re(n.value,d[0])&&Se(n.value,d[1])||Re(n.value,C[0])&&Se(n.value,C[1]),dp__range_between:Re(n.value,d[1])&&Se(n.value,C[0])}}return{...L(n)}},ee=n=>{const d=o.value.count>0?n.current&&A(n)&&V():A(n)&&V(),C=o.value.count>0?n.current&&A(n,!1)&&V():A(n,!1)&&V();return{isRangeStart:d,isRangeEnd:C}},le=n=>{const{isRangeStart:d,isRangeEnd:C}=ee(n);return{dp__range_start:d,dp__range_end:C,dp__range_between:T(n),dp__date_hover_start:q(Q(n),n,!0),dp__date_hover_end:q(Q(n),n,!1)}},L=n=>({...le(n),dp__cell_auto_range:k(n),dp__cell_auto_range_start:$(n),dp__cell_auto_range_end:J(n)}),r=n=>u.value.enabled?u.value.autoRange?L(n):a.modelAuto?{...i(n),...le(n)}:a.weekPicker?O(n):le(n):a.weekPicker?m(n):i(n);return{setHoverDate:f,clearHoverDate:p,getDayClassData:n=>a.hideOffsetDates&&!n.current?{}:{...M(n),...r(n),[a.dayClass?a.dayClass(n.value):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName}}},ha=e=>{const{defaultedFilters:a,defaultedRange:o,propDates:l}=Ce(e),t=x=>l.value.disabledDates?typeof l.value.disabledDates=="function"?l.value.disabledDates(B(x)):!!et(x,l.value.disabledDates):!1,v=x=>{const Y=l.value.maxDate?Re(x,l.value.maxDate):!1,T=l.value.minDate?Se(x,l.value.minDate):!1,M=t(x),i=a.value.months.map(L=>+L).includes(he(x)),m=e.disabledWeekDays.length?e.disabledWeekDays.some(L=>+L===Bl(x)):!1,O=f(x),ee=pe(x),le=ee<+e.yearRange[0]||ee>+e.yearRange[1];return!(Y||T||M||i||le||m||O)},u=(x,Y)=>Se(...da(l.value.minDate,x,Y))||_e(...da(l.value.minDate,x,Y)),y=(x,Y)=>Re(...da(l.value.maxDate,x,Y))||_e(...da(l.value.maxDate,x,Y)),b=(x,Y,T)=>{let M=!1;return l.value.maxDate&&T&&y(x,Y)&&(M=!0),l.value.minDate&&!T&&u(x,Y)&&(M=!0),M},P=(x,Y,T,M)=>{let i=!1;return M?l.value.minDate&&l.value.maxDate?i=b(x,Y,T):(l.value.minDate&&u(x,Y)||l.value.maxDate&&y(x,Y))&&(i=!0):i=!0,i},f=x=>Array.isArray(l.value.allowedDates)&&!l.value.allowedDates.length?!0:l.value.allowedDates?!et(x,l.value.allowedDates):!1,p=x=>!v(x),S=x=>o.value.noDisabledRange?!al({start:x[0],end:x[1]}).some(Y=>p(Y)):!0,w=x=>{if(x){const Y=pe(x);return Y>=+e.yearRange[0]&&Y<=e.yearRange[1]}return!0},N=(x,Y)=>!!(Array.isArray(x)&&x[Y]&&(o.value.maxRange||o.value.minRange)&&w(x[Y])),A=(x,Y,T=0)=>{if(N(Y,T)&&w(x)){const M=Vl(x,Y[T]),i=ml(Y[T],x),m=i.length===1?0:i.filter(ee=>p(ee)).length,O=Math.abs(M)-(o.value.minMaxRawRange?0:m);if(o.value.minRange&&o.value.maxRange)return O>=+o.value.minRange&&O<=+o.value.maxRange;if(o.value.minRange)return O>=+o.value.minRange;if(o.value.maxRange)return O<=+o.value.maxRange}return!0},q=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,K=x=>Array.isArray(x)?[x[0]?gt(x[0]):null,x[1]?gt(x[1]):null]:gt(x),J=(x,Y,T)=>x.find(M=>+M.hours===Ke(Y)&&M.minutes==="*"?!0:+M.minutes===la(Y)&&+M.hours===Ke(Y))&&T,k=(x,Y,T)=>{const[M,i]=x,[m,O]=Y;return!J(M,m,T)&&!J(i,O,T)&&T},$=(x,Y)=>{const T=Array.isArray(Y)?Y:[Y];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?k(e.disabledTimes,T,x):!T.some(M=>J(e.disabledTimes,M,x)):x},R=(x,Y)=>{const T=Array.isArray(Y)?[ka(Y[0]),Y[1]?ka(Y[1]):void 0]:ka(Y),M=!e.disabledTimes(T);return x&&M},I=(x,Y)=>e.disabledTimes?Array.isArray(e.disabledTimes)?$(Y,x):R(Y,x):Y,V=x=>{let Y=!0;if(!x||q())return!0;const T=!l.value.minDate&&!l.value.maxDate?K(x):x;return(e.maxTime||l.value.maxDate)&&(Y=Xt(e.maxTime,l.value.maxDate,"max",Oe(T),Y)),(e.minTime||l.value.minDate)&&(Y=Xt(e.minTime,l.value.minDate,"min",Oe(T),Y)),I(x,Y)},Q=x=>{if(!e.monthPicker)return!0;let Y=!0;const T=B(Qe(x));if(l.value.minDate&&l.value.maxDate){const M=B(Qe(l.value.minDate)),i=B(Qe(l.value.maxDate));return Re(T,M)&&Se(T,i)||_e(T,M)||_e(T,i)}if(l.value.minDate){const M=B(Qe(l.value.minDate));Y=Re(T,M)||_e(T,M)}if(l.value.maxDate){const M=B(Qe(l.value.maxDate));Y=Se(T,M)||_e(T,M)}return Y},G=W(()=>x=>!e.enableTimePicker||e.ignoreTimeValidation?!0:V(x)),ae=W(()=>x=>e.monthPicker?Array.isArray(x)&&(o.value.enabled||e.multiDates)?!x.filter(Y=>!Q(Y)).length:Q(x):!0);return{isDisabled:p,validateDate:v,validateMonthYearInRange:P,isDateRangeAllowed:S,checkMinMaxRange:A,isValidTime:V,isTimeValid:G,isMonthValid:ae}},nt=()=>{const e=W(()=>(l,t)=>l==null?void 0:l.includes(t)),a=W(()=>(l,t)=>l.count?l.solo?!0:t===0:!0),o=W(()=>(l,t)=>l.count?l.solo?!0:t===l.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:a,showRightIcon:o}},Pn=(e,a,o)=>{const l=X(0),t=Ha({[Da.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Da.calendar]:!1,[Da.header]:!1}),v=W(()=>e.monthPicker),u=p=>{var S;if((S=e.flow)!=null&&S.length){if(!p&&v.value)return f();t[p]=!0,Object.keys(t).filter(w=>!t[w]).length||f()}},y=()=>{var p;(p=e.flow)!=null&&p.length&&l.value!==-1&&(l.value+=1,a("flow-step",l.value),f())},b=()=>{l.value=-1},P=(p,S,...w)=>{var N,A;e.flow[l.value]===p&&o.value&&((A=(N=o.value)[S])==null||A.call(N,...w))},f=()=>{P(ea.month,"toggleMonthPicker",!0),P(ea.year,"toggleYearPicker",!0),P(ea.calendar,"toggleTimePicker",!1,!0),P(ea.time,"toggleTimePicker",!0,!0);const p=e.flow[l.value];(p===ea.hours||p===ea.minutes||p===ea.seconds)&&P(p,"toggleTimePicker",!0,!0,p)};return{childMount:u,updateFlowStep:y,resetFlow:b,flowStep:l}},rt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},Je={...rt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},Tn={key:1,class:"dp__input_wrap"},On=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Bn={key:2,class:"dp__clear_icon"},Vn=Ye({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...rt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:a,emit:o}){const l=o,t=e,{defaultedTextInput:v,defaultedAriaLabels:u,defaultedInline:y,defaultedConfig:b,defaultedRange:P,getDefaultPattern:f,getDefaultStartTime:p}=Ce(t),{checkMinMaxRange:S}=ha(t),w=X(),N=X(null),A=X(!1),q=X(!1),K=W(()=>({dp__pointer:!t.disabled&&!t.readonly&&!v.value.enabled,dp__disabled:t.disabled,dp__input_readonly:!v.value.enabled,dp__input:!0,dp__input_icon_pad:!t.hideInputIcon,dp__input_valid:!!t.state,dp__input_invalid:t.state===!1,dp__input_focus:A.value||t.isMenuOpen,dp__input_reg:!v.value.enabled,[t.inputClassName]:!!t.inputClassName})),J=()=>{l("set-input-date",null),t.autoApply&&(l("set-empty-date"),w.value=null)},k=i=>{const m=p();return an(i,v.value.format??f(),m??yl({},t.enableSeconds),t.inputValue,q.value)},$=i=>{const{rangeSeparator:m}=v.value,[O,ee]=i.split(`${m}`);if(O){const le=k(O.trim()),L=ee?k(ee.trim()):null,r=le&&L?[le,L]:[le];S(L,r,0)&&(w.value=le?r:null)}},R=()=>{q.value=!0},I=i=>{if(P.value.enabled)$(i);else if(t.multiDates){const m=i.split(";");w.value=m.map(O=>k(O.trim())).filter(O=>O)}else w.value=k(i)},V=i=>{var m;const O=typeof i=="string"?i:(m=i.target)==null?void 0:m.value;O!==""?(v.value.openMenu&&!t.isMenuOpen&&l("open"),I(O),l("set-input-date",w.value)):J(),q.value=!1,l("update:input-value",O)},Q=i=>{v.value.enabled?(I(i.target.value),v.value.enterSubmit&&$t(w.value)&&t.inputValue!==""?(l("set-input-date",w.value,!0),w.value=null):v.value.enterSubmit&&t.inputValue===""&&(w.value=null,l("clear"))):x(i)},G=i=>{v.value.enabled&&v.value.tabSubmit&&I(i.target.value),v.value.tabSubmit&&$t(w.value)&&t.inputValue!==""?(l("set-input-date",w.value,!0,!0),w.value=null):v.value.tabSubmit&&t.inputValue===""&&(w.value=null,l("clear",!0))},ae=()=>{var i;A.value=!0,l("focus"),v.value.enabled&&v.value.selectOnFocus&&((i=N.value)==null||i.select())},x=i=>{i.preventDefault(),ca(i,b.value,!0),v.value.enabled&&v.value.openMenu&&!y.value.input&&!t.isMenuOpen?l("open"):v.value.enabled||l("toggle")},Y=()=>{l("real-blur"),A.value=!1,(!t.isMenuOpen||y.value.enabled&&y.value.input)&&l("blur"),t.autoApply&&v.value.enabled&&w.value&&!t.isMenuOpen&&(l("set-input-date",w.value),l("select-date"),w.value=null)},T=i=>{ca(i,b.value,!0),l("clear")},M=i=>{if(!v.value.enabled){if(i.code==="Tab")return;i.preventDefault()}};return a({focusInput:()=>{var i;(i=N.value)==null||i.focus({preventScroll:!0})},setParsedDate:i=>{w.value=i}}),(i,m)=>{var O;return D(),F("div",{onClick:x},[i.$slots.trigger&&!i.$slots["dp-input"]&&!c(y).enabled?te(i.$slots,"trigger",{key:0}):z("",!0),!i.$slots.trigger&&(!c(y).enabled||c(y).input)?(D(),F("div",Tn,[i.$slots["dp-input"]&&!i.$slots.trigger&&(!c(y).enabled||c(y).enabled&&c(y).input)?te(i.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:V,onEnter:Q,onTab:G,onClear:T,onBlur:Y,onKeypress:M,onPaste:R,openMenu:()=>i.$emit("open"),closeMenu:()=>i.$emit("close"),toggleMenu:()=>i.$emit("toggle")}):z("",!0),i.$slots["dp-input"]?z("",!0):(D(),F("input",{key:1,id:i.uid?`dp-input-${i.uid}`:void 0,ref_key:"inputRef",ref:N,name:i.name,class:ke(K.value),inputmode:c(v).enabled?"text":"none",placeholder:i.placeholder,disabled:i.disabled,readonly:i.readonly,required:i.required,value:e.inputValue,autocomplete:i.autocomplete,"aria-label":(O=c(u))==null?void 0:O.input,"aria-disabled":i.disabled||void 0,"aria-invalid":i.state===!1?!0:void 0,onInput:V,onKeydown:[de(Q,["enter"]),de(G,["tab"]),M],onBlur:Y,onFocus:ae,onKeypress:M,onPaste:R},null,42,On)),se("div",{onClick:m[2]||(m[2]=ee=>l("toggle"))},[i.$slots["input-icon"]&&!i.hideInputIcon?(D(),F("span",{key:0,class:"dp__input_icon",onClick:m[0]||(m[0]=ee=>l("toggle"))},[te(i.$slots,"input-icon")])):z("",!0),!i.$slots["input-icon"]&&!i.hideInputIcon&&!i.$slots["dp-input"]?(D(),be(c(Ta),{key:1,class:"dp__input_icon dp__input_icons",onClick:m[1]||(m[1]=ee=>l("toggle"))})):z("",!0)]),i.$slots["clear-icon"]&&e.inputValue&&i.clearable&&!i.disabled&&!i.readonly?(D(),F("span",Bn,[te(i.$slots,"clear-icon",{clear:T})])):z("",!0),i.clearable&&!i.$slots["clear-icon"]&&e.inputValue&&!i.disabled&&!i.readonly?(D(),be(c(il),{key:3,class:"dp__clear_icon dp__input_icons",onClick:m[3]||(m[3]=De(ee=>T(ee),["prevent"]))})):z("",!0)])):z("",!0)])}}}),Yn=["title"],Nn=["disabled"],En=Ye({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Je},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:a}){const o=a,l=e,{defaultedActionRow:t,defaultedPreviewFormat:v,defaultedMultiCalendars:u,defaultedTextInput:y,defaultedInline:b,defaultedRange:P,getDefaultPattern:f}=Ce(l),{isTimeValid:p,isMonthValid:S}=ha(l),{buildMatrix:w}=fa(),N=X(null),A=X(null),q=X(!1),K=X({}),J=X(null),k=X(null);Fe(()=>{l.arrowNavigation&&w([Te(N),Te(A)],"actionRow"),$(),window.addEventListener("resize",$)}),at(()=>{window.removeEventListener("resize",$)});const $=()=>{q.value=!1,setTimeout(()=>{var M,i;const m=(M=J.value)==null?void 0:M.getBoundingClientRect(),O=(i=k.value)==null?void 0:i.getBoundingClientRect();m&&O&&(K.value.maxWidth=`${O.width-m.width-20}px`),q.value=!0},0)},R=W(()=>P.value.enabled&&!P.value.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),I=W(()=>!p.value(l.internalModelValue)||!S.value(l.internalModelValue)||!R.value),V=()=>{const M=v.value;return l.timePicker||l.monthPicker,M(Oe(l.internalModelValue))},Q=()=>{const M=l.internalModelValue;return u.value.count>0?`${G(M[0])} - ${G(M[1])}`:[G(M[0]),G(M[1])]},G=M=>hl(M,v.value,l.formatLocale,y.value.rangeSeparator,l.modelAuto,f()),ae=W(()=>!l.internalModelValue||!l.menuMount?"":typeof v.value=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?Q():l.multiDates?l.internalModelValue.map(M=>`${G(M)}`):l.modelAuto?`${G(l.internalModelValue[0])}`:`${G(l.internalModelValue[0])} -`:G(l.internalModelValue):V()),x=()=>l.multiDates?"; ":" - ",Y=W(()=>Array.isArray(ae.value)?ae.value.join(x()):ae.value),T=()=>{p.value(l.internalModelValue)&&S.value(l.internalModelValue)&&R.value?o("select-date"):o("invalid-select")};return(M,i)=>(D(),F("div",{ref_key:"actionRowRef",ref:k,class:"dp__action_row"},[M.$slots["action-row"]?te(M.$slots,"action-row",Pe(Ve({key:0},{internalModelValue:M.internalModelValue,disabled:I.value,selectDate:()=>M.$emit("select-date"),closePicker:()=>M.$emit("close-picker")}))):(D(),F(ge,{key:1},[c(t).showPreview?(D(),F("div",{key:0,class:"dp__selection_preview",title:Y.value,style:Xe(K.value)},[M.$slots["action-preview"]&&q.value?te(M.$slots,"action-preview",{key:0,value:M.internalModelValue}):z("",!0),!M.$slots["action-preview"]&&q.value?(D(),F(ge,{key:1},[ua(Ne(Y.value),1)],64)):z("",!0)],12,Yn)):z("",!0),se("div",{ref_key:"actionBtnContainer",ref:J,class:"dp__action_buttons","data-dp-element":"action-row"},[M.$slots["action-buttons"]?te(M.$slots,"action-buttons",{key:0,value:M.internalModelValue}):z("",!0),M.$slots["action-buttons"]?z("",!0):(D(),F(ge,{key:1},[!c(b).enabled&&c(t).showCancel?(D(),F("button",{key:0,ref_key:"cancelButtonRef",ref:N,type:"button",class:"dp__action_button dp__action_cancel",onClick:i[0]||(i[0]=m=>M.$emit("close-picker")),onKeydown:[i[1]||(i[1]=de(m=>M.$emit("close-picker"),["enter"])),i[2]||(i[2]=de(m=>M.$emit("close-picker"),["space"]))]},Ne(M.cancelText),545)):z("",!0),c(t).showNow?(D(),F("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:i[3]||(i[3]=m=>M.$emit("select-now")),onKeydown:[i[4]||(i[4]=de(m=>M.$emit("select-now"),["enter"])),i[5]||(i[5]=de(m=>M.$emit("select-now"),["space"]))]},Ne(M.nowButtonLabel),33)):z("",!0),c(t).showSelect?(D(),F("button",{key:2,ref_key:"selectButtonRef",ref:A,type:"button",class:"dp__action_button dp__action_select",disabled:I.value,onKeydown:[de(T,["enter"]),de(T,["space"])],onClick:T},Ne(M.selectText),41,Nn)):z("",!0)],64))],512)],64))],512))}}),In=["onKeydown"],Ln={class:"dp__selection_grid_header"},Fn=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Hn=["aria-label"],ja=Ye({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:a,emit:o}){const{setSelectionGrid:l,buildMultiLevelMatrix:t,setMonthPicker:v}=fa(),u=o,y=e,{defaultedAriaLabels:b,defaultedTextInput:P,defaultedConfig:f}=Ce(y),{hideNavigationButtons:p}=nt(),S=X(!1),w=X(null),N=X(null),A=X([]),q=X(),K=X(null),J=X(0),k=X(null);Pl(()=>{w.value=null}),Fe(()=>{pa().then(()=>x()),y.noOverlayFocus||R(),$(!0)}),at(()=>$(!1));const $=L=>{var r;y.arrowNavigation&&((r=y.headerRefs)!=null&&r.length?v(L):l(L))},R=()=>{var L;const r=Te(N);r&&(P.value.enabled||(w.value?(L=w.value)==null||L.focus({preventScroll:!0}):r.focus({preventScroll:!0})),S.value=r.clientHeight<r.scrollHeight)},I=W(()=>({dp__overlay:!0,"dp--overlay-absolute":!y.useRelative,"dp--overlay-relative":y.useRelative})),V=W(()=>y.useRelative?{height:`${y.height}px`,width:"260px"}:void 0),Q=W(()=>({dp__overlay_col:!0})),G=W(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:S.value,dp__button_bottom:y.isLast})),ae=W(()=>{var L,r;return{dp__overlay_container:!0,dp__container_flex:((L=y.items)==null?void 0:L.length)<=6,dp__container_block:((r=y.items)==null?void 0:r.length)>6}});ma(()=>y.items,()=>x(!1),{deep:!0});const x=(L=!0)=>{pa().then(()=>{const r=Te(w),n=Te(N),d=Te(K),C=Te(k),Z=d?d.getBoundingClientRect().height:0;n&&(n.getBoundingClientRect().height?J.value=n.getBoundingClientRect().height-Z:J.value=f.value.modeHeight-Z),r&&C&&L&&(C.scrollTop=r.offsetTop-C.offsetTop-(J.value/2-r.getBoundingClientRect().height)-Z)})},Y=L=>{L.disabled||u("selected",L.value)},T=()=>{u("toggle"),u("reset-flow")},M=()=>{y.escClose&&T()},i=(L,r,n,d)=>{L&&((r.active||r.value===y.focusValue)&&(w.value=L),y.arrowNavigation&&(Array.isArray(A.value[n])?A.value[n][d]=L:A.value[n]=[L],m()))},m=()=>{var L,r;const n=(L=y.headerRefs)!=null&&L.length?[y.headerRefs].concat(A.value):A.value.concat([y.skipButtonRef?[]:[K.value]]);t(Oe(n),(r=y.headerRefs)!=null&&r.length?"monthPicker":"selectionGrid")},O=L=>{y.arrowNavigation||ca(L,f.value,!0)},ee=L=>{q.value=L,u("hover-value",L)},le=()=>{if(T(),!y.isLast){const L=Zl(y.menuWrapRef??null,"action-row");if(L){const r=cl(L);r==null||r.focus()}}};return a({focusGrid:R}),(L,r)=>{var n;return D(),F("div",{ref_key:"gridWrapRef",ref:N,class:ke(I.value),style:Xe(V.value),role:"dialog",tabindex:"0",onKeydown:[de(De(M,["prevent"]),["esc"]),r[0]||(r[0]=de(De(d=>O(d),["prevent"]),["left"])),r[1]||(r[1]=de(De(d=>O(d),["prevent"]),["up"])),r[2]||(r[2]=de(De(d=>O(d),["prevent"]),["down"])),r[3]||(r[3]=de(De(d=>O(d),["prevent"]),["right"]))]},[se("div",{ref_key:"containerRef",ref:k,class:ke(ae.value),role:"grid",style:Xe({height:`${J.value}px`})},[se("div",Ln,[te(L.$slots,"header")]),L.$slots.overlay?te(L.$slots,"overlay",{key:0}):(D(!0),F(ge,{key:1},$e(L.items,(d,C)=>(D(),F("div",{key:C,class:ke(["dp__overlay_row",{dp__flex_row:L.items.length>=3}]),role:"row"},[(D(!0),F(ge,null,$e(d,(Z,h)=>(D(),F("div",{key:Z.value,ref_for:!0,ref:fe=>i(fe,Z,C,h),role:"gridcell",class:ke(Q.value),"aria-selected":Z.active||void 0,"aria-disabled":Z.disabled||void 0,tabindex:"0",onClick:fe=>Y(Z),onKeydown:[de(De(fe=>Y(Z),["prevent"]),["enter"]),de(De(fe=>Y(Z),["prevent"]),["space"])],onMouseover:fe=>ee(Z.value)},[se("div",{class:ke(Z.className)},[L.$slots.item?te(L.$slots,"item",{key:0,item:Z}):z("",!0),L.$slots.item?z("",!0):(D(),F(ge,{key:1},[ua(Ne(Z.text),1)],64))],2)],42,Fn))),128))],2))),128))],6),L.$slots["button-icon"]?Xa((D(),F("button",{key:0,ref_key:"toggleButton",ref:K,type:"button","aria-label":(n=c(b))==null?void 0:n.toggleOverlay,class:ke(G.value),tabindex:"0",onClick:T,onKeydown:[de(T,["enter"]),de(le,["tab"])]},[te(L.$slots,"button-icon")],42,Hn)),[[Ka,!c(p)(L.hideNavigation,L.type)]]):z("",!0)],46,In)}}}),ot=Ye({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const a=e,o=W(()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0]),l=W(()=>({dp__instance_calendar:a.multiCalendars>0}));return(t,v)=>(D(),F("div",{class:ke({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:t.multiCalendars>0,"dp--flex-display-collapsed":t.collapse})},[(D(!0),F(ge,null,$e(o.value,(u,y)=>(D(),F("div",{key:u,class:ke(l.value)},[te(t.$slots,"default",{instance:u,index:y})],2))),128))],2))}}),Wn=["aria-label","aria-disabled"],Na=Ye({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:a}){const o=a,l=X(null);return Fe(()=>o("set-ref",l)),(t,v)=>(D(),F("button",{ref_key:"elRef",ref:l,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:v[0]||(v[0]=u=>t.$emit("activate")),onKeydown:[v[1]||(v[1]=de(De(u=>t.$emit("activate"),["prevent"]),["enter"])),v[2]||(v[2]=de(De(u=>t.$emit("activate"),["prevent"]),["space"]))]},[se("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[te(t.$slots,"default")],2)],40,Wn))}}),zn={class:"dp--year-mode-picker"},jn=["aria-label"],wl=Ye({__name:"YearModePicker",props:{...Je,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const o=a,l=e,{showRightIcon:t,showLeftIcon:v}=nt(),{defaultedConfig:u,defaultedMultiCalendars:y,defaultedAriaLabels:b,defaultedTransitions:P}=Ce(l),{showTransition:f,transitionName:p}=Wa(P),S=(A=!1,q)=>{o("toggle-year-picker",{flow:A,show:q})},w=A=>{o("year-select",A)},N=(A=!1)=>{o("handle-year",A)};return(A,q)=>{var K,J,k;return D(),F("div",zn,[c(v)(c(y),e.instance)?(D(),be(Na,{key:0,ref:"mpPrevIconRef","aria-label":(K=c(b))==null?void 0:K.prevYear,disabled:e.isDisabled(!1),onActivate:q[0]||(q[0]=$=>N(!1))},{default:ye(()=>[A.$slots["arrow-left"]?te(A.$slots,"arrow-left",{key:0}):z("",!0),A.$slots["arrow-left"]?z("",!0):(D(),be(c(Rt),{key:1}))]),_:3},8,["aria-label","disabled"])):z("",!0),se("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(J=c(b))==null?void 0:J.openYearsOverlay,onClick:q[1]||(q[1]=()=>S(!1)),onKeydown:q[2]||(q[2]=de(()=>S(!1),["enter"]))},[A.$slots.year?te(A.$slots,"year",{key:0,year:e.year}):z("",!0),A.$slots.year?z("",!0):(D(),F(ge,{key:1},[ua(Ne(e.year),1)],64))],40,jn),c(t)(c(y),e.instance)?(D(),be(Na,{key:1,ref:"mpNextIconRef","aria-label":(k=c(b))==null?void 0:k.nextYear,disabled:e.isDisabled(!0),onActivate:q[3]||(q[3]=$=>N(!0))},{default:ye(()=>[A.$slots["arrow-right"]?te(A.$slots,"arrow-right",{key:0}):z("",!0),A.$slots["arrow-right"]?z("",!0):(D(),be(c(Pt),{key:1}))]),_:3},8,["aria-label","disabled"])):z("",!0),Ue(Pa,{name:c(p)(e.showYearPicker),css:c(f)},{default:ye(()=>[e.showYearPicker?(D(),be(ja,{key:0,items:e.items,"text-input":A.textInput,"esc-close":A.escClose,config:A.config,"is-last":A.autoApply&&!c(u).keepActionRow,"hide-navigation":A.hideNavigation,"aria-labels":A.ariaLabels,type:"year",onToggle:S,onSelected:q[4]||(q[4]=$=>w($))},Le({"button-icon":ye(()=>[A.$slots["calendar-icon"]?te(A.$slots,"calendar-icon",{key:0}):z("",!0),A.$slots["calendar-icon"]?z("",!0):(D(),be(c(Ta),{key:1}))]),_:2},[A.$slots["year-overlay-value"]?{name:"item",fn:ye(({item:$})=>[te(A.$slots,"year-overlay-value",{text:$.text,value:$.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):z("",!0)]),_:3},8,["name","css"])])}}}),It=(e,a,o)=>{if(a.value&&Array.isArray(a.value))if(a.value.some(l=>_e(e,l))){const l=a.value.filter(t=>!_e(t,e));a.value=l.length?l:null}else(o&&+o>a.value.length||!o)&&a.value.push(e);else a.value=[e]},Lt=(e,a,o)=>{let l=e.value?e.value.slice():[];return l.length===2&&l[1]!==null&&(l=[]),l.length?Se(a,l[0])?(l.unshift(a),o("range-start",l[0]),o("range-start",l[1])):(l[1]=a,o("range-end",a)):(l=[a],o("range-start",a)),l},ut=(e,a,o,l)=>{e&&(e[0]&&e[1]&&o&&a("auto-apply"),e[0]&&!e[1]&&l&&o&&a("auto-apply"))},kl=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(a=>ya(B(a),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=ya(B(e.value),e.timezone))},Dl=(e,a,o,l)=>Array.isArray(a.value)&&a.value.length===2?l.value.fixedStart&&(Re(e,a.value[0])||_e(e,a.value[0]))?[a.value[0],e]:l.value.fixedEnd&&(Se(e,a.value[1])||_e(e,a.value[1]))?[e,a.value[1]]:(o("invalid-fixed-range",e),a.value):[],Ml=({multiCalendars:e,highlight:a,propDates:o,calendars:l,modelValue:t,props:v,year:u,month:y,emit:b})=>{const P=W(()=>Vt(v.yearRange,v.reverseYears)),f=X([!1]),p=W(()=>(R,I)=>{const V=Me(Qe(new Date),{month:y.value(R),year:u.value(R)});return fl(V,o.value.maxDate,o.value.minDate,v.preventMinMaxNavigation,I)}),S=()=>{for(let R=0;R<e.value.count;R++)if(R===0)l.value[R]=l.value[0];else{const I=Me(B(),l.value[R-1]);l.value[R]={month:he(I),year:pe(ol(I,1))}}},w=R=>{if(!R)return S();const I=Me(B(),l.value[R]);return l.value[0].year=pe(ul(I,e.value.count-1)),S()},N=R=>v.focusStartDate?R[0]:R[1]?R[1]:R[0],A=()=>{if(t.value){const R=Array.isArray(t.value)?N(t.value):t.value;l.value[0]={month:he(R),year:pe(R)}}};Fe(()=>{A(),e.value.count&&S()});const q=(R,I)=>{l.value[I].year=R,e.value.count&&!e.value.solo&&w(I)},K=W(()=>R=>Sa(P.value,I=>{const V=u.value(R)===I.value,Q=Fa(I.value,Ra(o.value.minDate),Ra(o.value.maxDate)),G=Et(a.value,I.value);return{active:V,disabled:Q,highlighted:G}})),J=(R,I)=>{q(R,I),$(I)},k=(R,I=!1)=>{if(!p.value(R,I)){const V=I?u.value(R)+1:u.value(R)-1;q(V,R)}},$=(R,I=!1,V)=>{I||b("reset-flow"),V!==void 0?f.value[R]=V:f.value[R]=!f.value[R],f.value||b("overlay-closed")};return{isDisabled:p,groupedYears:K,showYearPicker:f,selectYear:q,toggleYearPicker:$,handleYearSelect:J,handleYear:k}},Un=(e,a)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,defaultedRange:u,defaultedHighlight:y,propDates:b,defaultedTz:P}=Ce(e),{modelValue:f,year:p,month:S,calendars:w}=za(e,a),N=W(()=>sl(e.formatLocale,e.locale,e.monthNameFormat)),A=X(null),{checkMinMaxRange:q}=ha(e),{selectYear:K,groupedYears:J,showYearPicker:k,toggleYearPicker:$,handleYearSelect:R,handleYear:I,isDisabled:V}=Ml({modelValue:f,multiCalendars:o,highlight:y,calendars:w,year:p,propDates:b,month:S,props:e,emit:a});Fe(()=>{e.startDate&&(f.value&&e.focusStartDate||!f.value)&&K(pe(B(e.startDate)),0)});const Q=r=>r?{month:he(r),year:pe(r)}:{month:null,year:null},G=()=>f.value?Array.isArray(f.value)?f.value.map(r=>Q(r)):Q(f.value):Q(),ae=(r,n)=>{const d=w.value[r],C=G();return Array.isArray(C)?C.some(Z=>Z.year===(d==null?void 0:d.year)&&Z.month===n):(d==null?void 0:d.year)===C.year&&n===C.month},x=(r,n,d)=>{var C,Z;const h=G();return Array.isArray(h)?p.value(n)===((C=h[d])==null?void 0:C.year)&&r===((Z=h[d])==null?void 0:Z.month):!1},Y=(r,n)=>{if(u.value.enabled){const d=G();if(Array.isArray(f.value)&&Array.isArray(d)){const C=x(r,n,0)||x(r,n,1),Z=oa(Qe(B()),r,p.value(n));return lt(f.value,A.value,Z)&&!C}return!1}return!1},T=W(()=>r=>Sa(N.value,n=>{const d=ae(r,n.value),C=Fa(n.value,vl(p.value(r),b.value.minDate),pl(p.value(r),b.value.maxDate))||un(b.value.disabledDates,p.value(r)).includes(n.value),Z=Y(n.value,r),h=gl(y.value,n.value,p.value(r));return{active:d,disabled:C,isBetween:Z,highlighted:h}})),M=(r,n)=>oa(Qe(B()),r,p.value(n)),i=(r,n)=>{const d=f.value?f.value:Qe(new Date);f.value=oa(d,r,p.value(n)),a("auto-apply"),a("update-flow-step")},m=(r,n)=>{const d=M(r,n);u.value.fixedEnd||u.value.fixedStart?f.value=Dl(d,f,a,u):f.value?q(d,f.value)&&(f.value=Lt(f,M(r,n),a)):f.value=[M(r,n)],ut(f.value,a,e.autoApply,e.modelAuto)},O=(r,n)=>{It(M(r,n),f,e.multiDatesLimit),a("auto-apply",!0)},ee=(r,n)=>(w.value[n].month=r,L(n,w.value[n].year,r),e.multiDates?O(r,n):u.value.enabled?m(r,n):i(r,n)),le=(r,n)=>{K(r,n),L(n,r,null)},L=(r,n,d)=>{let C=d;if(!C&&C!==0){const Z=G();C=Array.isArray(Z)?Z[r].month:Z.month}a("update-month-year",{instance:r,year:n,month:C})};return{groupedMonths:T,groupedYears:J,year:p,isDisabled:V,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,showYearPicker:k,modelValue:f,presetDate:(r,n)=>{kl({value:r,modelValue:f,range:u.value.enabled,timezone:n?void 0:P.value.timezone}),a("auto-apply")},setHoverDate:(r,n)=>{A.value=M(r,n)},selectMonth:ee,selectYear:le,toggleYearPicker:$,handleYearSelect:R,handleYear:I,getModelMonthYear:G}},Gn=Ye({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Je},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(e,{expose:a,emit:o}){const l=o,t=Ma(),v=We(t,"yearMode"),u=e;Fe(()=>{u.shadow||l("mount",null)});const{groupedMonths:y,groupedYears:b,year:P,isDisabled:f,defaultedMultiCalendars:p,defaultedConfig:S,showYearPicker:w,modelValue:N,presetDate:A,setHoverDate:q,selectMonth:K,selectYear:J,toggleYearPicker:k,handleYearSelect:$,handleYear:R,getModelMonthYear:I}=Un(u,l);return a({getSidebarProps:()=>({modelValue:N,year:P,getModelMonthYear:I,selectMonth:K,selectYear:J,handleYear:R}),presetDate:A,toggleYearPicker:V=>k(0,V)}),(V,Q)=>(D(),be(ot,{"multi-calendars":c(p).count,collapse:V.collapse,stretch:""},{default:ye(({instance:G})=>[V.$slots["month-year"]?te(V.$slots,"month-year",Pe(Ve({key:0},{year:c(P),months:c(y)(G),years:c(b)(G),selectMonth:c(K),selectYear:c(J),instance:G}))):(D(),be(ja,{key:1,items:c(y)(G),"arrow-navigation":V.arrowNavigation,"is-last":V.autoApply&&!c(S).keepActionRow,"esc-close":V.escClose,height:c(S).modeHeight,config:V.config,"no-overlay-focus":!!(V.noOverlayFocus||V.textInput),"use-relative":"",type:"month",onSelected:ae=>c(K)(ae,G),onHoverValue:ae=>c(q)(ae,G)},{header:ye(()=>[Ue(wl,Ve(V.$props,{items:c(b)(G),instance:G,"show-year-picker":c(w)[G],year:c(P)(G),"is-disabled":ae=>c(f)(G,ae),onHandleYear:ae=>c(R)(G,ae),onYearSelect:ae=>c($)(ae,G),onToggleYearPicker:ae=>c(k)(G,ae==null?void 0:ae.flow,ae==null?void 0:ae.show)}),Le({_:2},[$e(c(v),(ae,x)=>({name:ae,fn:ye(Y=>[te(V.$slots,ae,Pe(Ie(Y)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),qn=(e,a)=>{const{modelValue:o}=za(e,a),l=X(null),{defaultedHighlight:t,defaultedFilters:v,defaultedRange:u,propDates:y}=Ce(e),b=X();Fe(()=>{e.startDate&&(o.value&&e.focusStartDate||!o.value)&&(b.value=pe(B(e.startDate)))});const P=w=>Array.isArray(o.value)?o.value.some(N=>pe(N)===w):o.value?pe(o.value)===w:!1,f=w=>u.value.enabled&&Array.isArray(o.value)?lt(o.value,l.value,S(w)):!1,p=W(()=>Sa(Vt(e.yearRange,e.reverseYears),w=>{const N=P(w.value),A=Fa(w.value,Ra(y.value.minDate),Ra(y.value.maxDate))||v.value.years.includes(w.value),q=f(w.value)&&!N,K=Et(t.value,w.value);return{active:N,disabled:A,isBetween:q,highlighted:K}})),S=w=>aa(Qe(new Date),w);return{groupedYears:p,modelValue:o,focusYear:b,setHoverValue:w=>{l.value=aa(Qe(new Date),w)},selectYear:w=>{var N;if(a("update-month-year",{instance:0,year:w}),e.multiDates)return o.value?Array.isArray(o.value)&&(((N=o.value)==null?void 0:N.map(A=>pe(A))).includes(w)?o.value=o.value.filter(A=>pe(A)!==w):o.value.push(aa(ze(B()),w))):o.value=[aa(ze(B()),w)],a("auto-apply",!0);if(u.value.enabled)return o.value=Lt(o,S(w),a),ut(o.value,a,e.autoApply,e.modelAuto);o.value=S(w),a("auto-apply")}}},Qn=Ye({compatConfig:{MODE:3},__name:"YearPicker",props:{...Je},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:o}){const l=o,t=e,{groupedYears:v,modelValue:u,focusYear:y,selectYear:b,setHoverValue:P}=qn(t,l),{defaultedConfig:f}=Ce(t);return a({getSidebarProps:()=>({modelValue:u,selectYear:b})}),(p,S)=>(D(),F("div",null,[p.$slots["month-year"]?te(p.$slots,"month-year",Pe(Ve({key:0},{years:c(v),selectYear:c(b)}))):(D(),be(ja,{key:1,items:c(v),"is-last":p.autoApply&&!c(f).keepActionRow,height:c(f).modeHeight,config:p.config,"no-overlay-focus":!!(p.noOverlayFocus||p.textInput),"focus-value":c(y),type:"year","use-relative":"",onSelected:c(b),onHoverValue:c(P)},Le({_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:ye(({item:w})=>[te(p.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Xn={key:0,class:"dp__time_input"},Kn=["aria-label","onKeydown","onClick"],Jn=se("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Zn=se("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),er=["aria-label","disabled","onKeydown","onClick"],ar=["aria-label","onKeydown","onClick"],tr=se("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),lr=se("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),nr={key:0},rr=["aria-label","onKeydown"],or=Ye({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Je},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:o}){const l=o,t=e,{setTimePickerElements:v,setTimePickerBackRef:u}=fa(),{defaultedAriaLabels:y,defaultedTransitions:b,defaultedFilters:P,defaultedConfig:f,defaultedRange:p}=Ce(t),{transitionName:S,showTransition:w}=Wa(b),N=Ha({hours:!1,minutes:!1,seconds:!1}),A=X("AM"),q=X(null),K=X([]);Fe(()=>{l("mounted")});const J=g=>Me(new Date,{hours:g.hours,minutes:g.minutes,seconds:t.enableSeconds?g.seconds:0,milliseconds:0}),k=W(()=>g=>i(g,t[g])||R(g,t[g])),$=W(()=>({hours:t.hours,minutes:t.minutes,seconds:t.seconds})),R=(g,ne)=>p.value.enabled&&!p.value.disableTimeRangeValidation?!t.validateTime(g,ne):!1,I=(g,ne)=>{if(p.value.enabled&&!p.value.disableTimeRangeValidation){const me=ne?+t[`${g}Increment`]:-+t[`${g}Increment`],s=t[g]+me;return!t.validateTime(g,s)}return!1},V=W(()=>g=>!le(+t[g]+ +t[`${g}Increment`],g)||I(g,!0)),Q=W(()=>g=>!le(+t[g]-+t[`${g}Increment`],g)||I(g,!1)),G=(g,ne)=>ll(Me(B(),g),ne),ae=(g,ne)=>jl(Me(B(),g),ne),x=W(()=>({dp__time_col:!0,dp__time_col_block:!t.timePickerInline,dp__time_col_reg_block:!t.enableSeconds&&t.is24&&!t.timePickerInline,dp__time_col_reg_inline:!t.enableSeconds&&t.is24&&t.timePickerInline,dp__time_col_reg_with_button:!t.enableSeconds&&!t.is24,dp__time_col_sec:t.enableSeconds&&t.is24,dp__time_col_sec_with_button:t.enableSeconds&&!t.is24})),Y=W(()=>{const g=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return t.enableSeconds?g.concat([{type:"",separator:!0},{type:"seconds"}]):g}),T=W(()=>Y.value.filter(g=>!g.separator)),M=W(()=>g=>{if(g==="hours"){const ne=C(+t.hours);return{text:ne<10?`0${ne}`:`${ne}`,value:ne}}return{text:t[g]<10?`0${t[g]}`:`${t[g]}`,value:t[g]}}),i=(g,ne)=>{var me;if(!t.disabledTimesConfig)return!1;const s=t.disabledTimesConfig(t.order,g==="hours"?ne:void 0);return s[g]?!!((me=s[g])!=null&&me.includes(ne)):!0},m=g=>{const ne=t.is24?24:12,me=g==="hours"?ne:60,s=+t[`${g}GridIncrement`],H=g==="hours"&&!t.is24?s:0,ie=[];for(let ce=H;ce<me;ce+=s)ie.push({value:ce,text:ce<10?`0${ce}`:`${ce}`});return g==="hours"&&!t.is24&&ie.push({value:0,text:"12"}),Sa(ie,ce=>({active:!1,disabled:P.value.times[g].includes(ce.value)||!le(ce.value,g)||i(g,ce.value)||R(g,ce.value)}))},O=g=>g>=0?g:59,ee=g=>g>=0?g:23,le=(g,ne)=>{const me=t.minTime?J(yt(t.minTime)):null,s=t.maxTime?J(yt(t.maxTime)):null,H=J(yt($.value,ne,ne==="minutes"||ne==="seconds"?O(g):ee(g)));return me&&s?(Ea(H,s)||xa(H,s))&&(Ia(H,me)||xa(H,me)):me?Ia(H,me)||xa(H,me):s?Ea(H,s)||xa(H,s):!0},L=g=>t[`no${g[0].toUpperCase()+g.slice(1)}Overlay`],r=g=>{L(g)||(N[g]=!N[g],N[g]||l("overlay-closed"))},n=g=>g==="hours"?Ke:g==="minutes"?la:Ca,d=(g,ne=!0)=>{const me=ne?G:ae,s=ne?+t[`${g}Increment`]:-+t[`${g}Increment`];le(+t[g]+s,g)&&l(`update:${g}`,n(g)(me({[g]:+t[g]},{[g]:+t[`${g}Increment`]})))},C=g=>t.is24?g:(g>=12?A.value="PM":A.value="AM",ql(g)),Z=()=>{A.value==="PM"?(A.value="AM",l("update:hours",t.hours-12)):(A.value="PM",l("update:hours",t.hours+12)),l("am-pm-change",A.value)},h=g=>{N[g]=!0},fe=(g,ne,me)=>{if(g&&t.arrowNavigation){Array.isArray(K.value[ne])?K.value[ne][me]=g:K.value[ne]=[g];const s=K.value.reduce((H,ie)=>ie.map((ce,xe)=>[...H[xe]||[],ie[xe]]),[]);u(t.closeTimePickerBtn),q.value&&(s[1]=s[1].concat(q.value)),v(s,t.order)}},we=(g,ne)=>(r(g),g==="hours"&&!t.is24?l(`update:${g}`,A.value==="PM"?ne+12:ne):l(`update:${g}`,ne));return a({openChildCmp:h}),(g,ne)=>{var me;return g.disabled?z("",!0):(D(),F("div",Xn,[(D(!0),F(ge,null,$e(Y.value,(s,H)=>{var ie,ce,xe;return D(),F("div",{key:H,class:ke(x.value)},[s.separator?(D(),F(ge,{key:0},[ua(" : ")],64)):(D(),F(ge,{key:1},[se("button",{ref_for:!0,ref:j=>fe(j,H,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!g.timePickerInline,dp__inc_dec_button_inline:g.timePickerInline,dp__tp_inline_btn_top:g.timePickerInline,dp__inc_dec_button_disabled:V.value(s.type)}),"aria-label":(ie=c(y))==null?void 0:ie.incrementValue(s.type),tabindex:"0",onKeydown:[de(De(j=>d(s.type),["prevent"]),["enter"]),de(De(j=>d(s.type),["prevent"]),["space"])],onClick:j=>d(s.type)},[t.timePickerInline?(D(),F(ge,{key:1},[Jn,Zn],64)):(D(),F(ge,{key:0},[g.$slots["arrow-up"]?te(g.$slots,"arrow-up",{key:0}):z("",!0),g.$slots["arrow-up"]?z("",!0):(D(),be(c(Ot),{key:1}))],64))],42,Kn),se("button",{ref_for:!0,ref:j=>fe(j,H,1),type:"button","aria-label":(ce=c(y))==null?void 0:ce.openTpOverlay(s.type),class:ke({dp__time_display:!0,dp__time_display_block:!g.timePickerInline,dp__time_display_inline:g.timePickerInline,"dp--time-invalid":k.value(s.type),"dp--time-overlay-btn":!k.value(s.type)}),disabled:L(s.type),tabindex:"0",onKeydown:[de(De(j=>r(s.type),["prevent"]),["enter"]),de(De(j=>r(s.type),["prevent"]),["space"])],onClick:j=>r(s.type)},[g.$slots[s.type]?te(g.$slots,s.type,{key:0,text:M.value(s.type).text,value:M.value(s.type).value}):z("",!0),g.$slots[s.type]?z("",!0):(D(),F(ge,{key:1},[ua(Ne(M.value(s.type).text),1)],64))],42,er),se("button",{ref_for:!0,ref:j=>fe(j,H,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!g.timePickerInline,dp__inc_dec_button_inline:g.timePickerInline,dp__tp_inline_btn_bottom:g.timePickerInline,dp__inc_dec_button_disabled:Q.value(s.type)}),"aria-label":(xe=c(y))==null?void 0:xe.decrementValue(s.type),tabindex:"0",onKeydown:[de(De(j=>d(s.type,!1),["prevent"]),["enter"]),de(De(j=>d(s.type,!1),["prevent"]),["space"])],onClick:j=>d(s.type,!1)},[t.timePickerInline?(D(),F(ge,{key:1},[tr,lr],64)):(D(),F(ge,{key:0},[g.$slots["arrow-down"]?te(g.$slots,"arrow-down",{key:0}):z("",!0),g.$slots["arrow-down"]?z("",!0):(D(),be(c(Bt),{key:1}))],64))],42,ar)],64))],2)}),128)),g.is24?z("",!0):(D(),F("div",nr,[g.$slots["am-pm-button"]?te(g.$slots,"am-pm-button",{key:0,toggle:Z,value:A.value}):z("",!0),g.$slots["am-pm-button"]?z("",!0):(D(),F("button",{key:1,ref_key:"amPmButton",ref:q,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(me=c(y))==null?void 0:me.amPmButton,tabindex:"0",onClick:Z,onKeydown:[de(De(Z,["prevent"]),["enter"]),de(De(Z,["prevent"]),["space"])]},Ne(A.value),41,rr))])),(D(!0),F(ge,null,$e(T.value,(s,H)=>(D(),be(Pa,{key:H,name:c(S)(N[s.type]),css:c(w)},{default:ye(()=>[N[s.type]?(D(),be(ja,{key:0,items:m(s.type),"is-last":g.autoApply&&!c(f).keepActionRow,"esc-close":g.escClose,type:s.type,"text-input":g.textInput,config:g.config,"arrow-navigation":g.arrowNavigation,"aria-labels":g.ariaLabels,onSelected:ie=>we(s.type,ie),onToggle:ie=>r(s.type),onResetFlow:ne[0]||(ne[0]=ie=>g.$emit("reset-flow"))},Le({"button-icon":ye(()=>[g.$slots["clock-icon"]?te(g.$slots,"clock-icon",{key:0}):z("",!0),g.$slots["clock-icon"]?z("",!0):(D(),be(tt(g.timePickerInline?c(Ta):c(Tt)),{key:1}))]),_:2},[g.$slots[`${s.type}-overlay-value`]?{name:"item",fn:ye(({item:ie})=>[te(g.$slots,`${s.type}-overlay-value`,{text:ie.text,value:ie.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):z("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ur={class:"dp--tp-wrap"},ir=["aria-label","tabindex"],sr=["tabindex"],dr=["aria-label"],Al=Ye({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Je},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:o}){const l=o,t=e,{buildMatrix:v,setTimePicker:u}=fa(),y=Ma(),{defaultedTransitions:b,defaultedAriaLabels:P,defaultedTextInput:f,defaultedConfig:p,defaultedRange:S}=Ce(t),{transitionName:w,showTransition:N}=Wa(b),{hideNavigationButtons:A}=nt(),q=X(null),K=X(null),J=X([]),k=X(null);Fe(()=>{l("mount"),!t.timePicker&&t.arrowNavigation?v([Te(q.value)],"time"):u(!0,t.timePicker)});const $=W(()=>S.value.enabled&&t.modelAuto?dl(t.internalModelValue):!0),R=X(!1),I=m=>({hours:Array.isArray(t.hours)?t.hours[m]:t.hours,minutes:Array.isArray(t.minutes)?t.minutes[m]:t.minutes,seconds:Array.isArray(t.seconds)?t.seconds[m]:t.seconds}),V=W(()=>{const m=[];if(S.value.enabled)for(let O=0;O<2;O++)m.push(I(O));else m.push(I(0));return m}),Q=(m,O=!1,ee="")=>{O||l("reset-flow"),R.value=m,l(m?"overlay-opened":"overlay-closed"),t.arrowNavigation&&u(m),pa(()=>{ee!==""&&J.value[0]&&J.value[0].openChildCmp(ee)})},G=W(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:t.autoApply&&!p.value.keepActionRow})),ae=We(y,"timePicker"),x=(m,O,ee)=>S.value.enabled?O===0?[m,V.value[1][ee]]:[V.value[0][ee],m]:m,Y=m=>{l("update:hours",m)},T=m=>{l("update:minutes",m)},M=m=>{l("update:seconds",m)},i=()=>{if(k.value&&!f.value.enabled&&!t.noOverlayFocus){const m=cl(k.value);m&&m.focus({preventScroll:!0})}};return a({toggleTimePicker:Q}),(m,O)=>{var ee;return D(),F("div",ur,[!m.timePicker&&!m.timePickerInline?Xa((D(),F("button",{key:0,ref_key:"openTimePickerBtn",ref:q,type:"button",class:ke(G.value),"aria-label":(ee=c(P))==null?void 0:ee.openTimePicker,tabindex:m.noOverlayFocus?void 0:0,onKeydown:[O[0]||(O[0]=de(le=>Q(!0),["enter"])),O[1]||(O[1]=de(le=>Q(!0),["space"]))],onClick:O[2]||(O[2]=le=>Q(!0))},[m.$slots["clock-icon"]?te(m.$slots,"clock-icon",{key:0}):z("",!0),m.$slots["clock-icon"]?z("",!0):(D(),be(c(Tt),{key:1}))],42,ir)),[[Ka,!c(A)(m.hideNavigation,"time")]]):z("",!0),Ue(Pa,{name:c(w)(R.value),css:c(N)&&!m.timePickerInline},{default:ye(()=>{var le;return[R.value||m.timePicker||m.timePickerInline?(D(),F("div",{key:0,ref_key:"overlayRef",ref:k,class:ke({dp__overlay:!m.timePickerInline,"dp--overlay-absolute":!t.timePicker&&!m.timePickerInline,"dp--overlay-relative":t.timePicker}),style:Xe(m.timePicker?{height:`${c(p).modeHeight}px`}:void 0),tabindex:m.timePickerInline?void 0:0},[se("div",{class:ke(m.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[m.$slots["time-picker-overlay"]?te(m.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:Y,setMinutes:T,setSeconds:M}):z("",!0),m.$slots["time-picker-overlay"]?z("",!0):(D(),F("div",{key:1,class:ke(m.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(D(!0),F(ge,null,$e(V.value,(L,r)=>Xa((D(),be(or,Ve({key:r},{...m.$props,order:r,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:K.value,disabledTimesConfig:e.disabledTimesConfig,disabled:r===0?m.fixedStart:m.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:J,"validate-time":(n,d)=>e.validateTime(n,x(d,r,n)),"onUpdate:hours":n=>Y(x(n,r,"hours")),"onUpdate:minutes":n=>T(x(n,r,"minutes")),"onUpdate:seconds":n=>M(x(n,r,"seconds")),onMounted:i,onOverlayClosed:i,onAmPmChange:O[3]||(O[3]=n=>m.$emit("am-pm-change",n))}),Le({_:2},[$e(c(ae),(n,d)=>({name:n,fn:ye(C=>[te(m.$slots,n,Pe(Ie(C)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ka,r===0?!0:$.value]])),128))],2)),!m.timePicker&&!m.timePickerInline?Xa((D(),F("button",{key:2,ref_key:"closeTimePickerBtn",ref:K,type:"button",class:ke(G.value),"aria-label":(le=c(P))==null?void 0:le.closeTimePicker,tabindex:"0",onKeydown:[O[4]||(O[4]=de(L=>Q(!1),["enter"])),O[5]||(O[5]=de(L=>Q(!1),["space"]))],onClick:O[6]||(O[6]=L=>Q(!1))},[m.$slots["calendar-icon"]?te(m.$slots,"calendar-icon",{key:0}):z("",!0),m.$slots["calendar-icon"]?z("",!0):(D(),be(c(Ta),{key:1}))],42,dr)),[[Ka,!c(A)(m.hideNavigation,"time")]]):z("",!0)],2)],14,sr)):z("",!0)]}),_:3},8,["name","css"])])}}}),$l=(e,a,o,l)=>{const{defaultedRange:t}=Ce(e),v=(k,$)=>Array.isArray(a[k])?a[k][$]:a[k],u=k=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[k]:a.seconds:0,y=(k,$)=>k?$!==void 0?va(k,v("hours",$),v("minutes",$),u($)):va(k,a.hours,a.minutes,u()):Ct(B(),u($)),b=(k,$)=>{a[k]=$},P=W(()=>e.modelAuto&&t.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:t.value.enabled),f=(k,$)=>{const R=Object.fromEntries(Object.keys(a).map(I=>I===k?[I,$]:[I,a[I]].slice()));if(P.value&&!t.value.disableTimeRangeValidation){const I=Q=>o.value?va(o.value[Q],R.hours[Q],R.minutes[Q],R.seconds[Q]):null,V=Q=>St(o.value[Q],0);return!(_e(I(0),I(1))&&(Ia(I(0),V(1))||Ea(I(1),V(0))))}return!0},p=(k,$)=>{f(k,$)&&(b(k,$),l&&l())},S=k=>{p("hours",k)},w=k=>{p("minutes",k)},N=k=>{p("seconds",k)},A=(k,$,R,I)=>{$&&S(k),!$&&!R&&w(k),R&&N(k),o.value&&I(o.value)},q=k=>{if(k){const $=Array.isArray(k),R=$?[+k[0].hours,+k[1].hours]:+k.hours,I=$?[+k[0].minutes,+k[1].minutes]:+k.minutes,V=$?[+k[0].seconds,+k[1].seconds]:+k.seconds;b("hours",R),b("minutes",I),e.enableSeconds&&b("seconds",V)}},K=(k,$)=>{const R={hours:Array.isArray(a.hours)?a.hours[k]:a.hours,disabledArr:[]};return($||$===0)&&(R.hours=$),Array.isArray(e.disabledTimes)&&(R.disabledArr=t.value.enabled&&Array.isArray(e.disabledTimes[k])?e.disabledTimes[k]:e.disabledTimes),R},J=W(()=>(k,$)=>{var R;if(Array.isArray(e.disabledTimes)){const{disabledArr:I,hours:V}=K(k,$),Q=I.filter(G=>+G.hours===V);return((R=Q[0])==null?void 0:R.minutes)==="*"?{hours:[V],minutes:void 0,seconds:void 0}:{hours:[],minutes:(Q==null?void 0:Q.map(G=>+G.minutes))??[],seconds:(Q==null?void 0:Q.map(G=>G.seconds?+G.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:b,updateHours:S,updateMinutes:w,updateSeconds:N,getSetDateTime:y,updateTimeValues:A,getSecondsValue:u,assignStartTime:q,validateTime:f,disabledTimesConfig:J}},cr=(e,a)=>{const{modelValue:o,time:l}=za(e,a),{defaultedStartTime:t,defaultedRange:v}=Ce(e),{updateTimeValues:u,getSetDateTime:y,setTime:b,assignStartTime:P,disabledTimesConfig:f,validateTime:p}=$l(e,l,o),S=k=>{const{hours:$,minutes:R,seconds:I}=k;return{hours:+$,minutes:+R,seconds:I?+I:0}},w=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const $=S(e.startTime[0]),R=S(e.startTime[1]);return[Me(B(),$),Me(B(),R)]}const k=S(e.startTime);return Me(B(),k)}return v.value.enabled?[null,null]:null},N=()=>{if(v.value.enabled){const[k,$]=w();o.value=[y(k,0),y($,1)]}else o.value=y(w())},A=k=>Array.isArray(k)?[ka(B(k[0])),ka(B(k[1]))]:[ka(k??B())],q=(k,$,R)=>{b("hours",k),b("minutes",$),b("seconds",e.enableSeconds?R:0)},K=()=>{const[k,$]=A(o.value);return v.value.enabled?q([k.hours,$.hours],[k.minutes,$.minutes],[k.seconds,$.seconds]):q(k.hours,k.minutes,k.seconds)};Fe(()=>{if(!e.shadow)return P(t.value),o.value?K():N()});const J=()=>{Array.isArray(o.value)?o.value=o.value.map((k,$)=>k&&y(k,$)):o.value=y(o.value),a("time-update")};return{modelValue:o,time:l,disabledTimesConfig:f,updateTime:(k,$=!0,R=!1)=>{u(k,$,R,J)},validateTime:p}},vr=Ye({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Je},emits:["update:internal-model-value","time-update","am-pm-change"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=Ma(),u=We(v,"timePicker"),{time:y,modelValue:b,disabledTimesConfig:P,updateTime:f,validateTime:p}=cr(t,l);return a({getSidebarProps:()=>({modelValue:b,time:y,updateTime:f})}),(S,w)=>(D(),be(ot,{"multi-calendars":0,stretch:""},{default:ye(()=>[Ue(Al,Ve(S.$props,{hours:c(y).hours,minutes:c(y).minutes,seconds:c(y).seconds,"internal-model-value":S.internalModelValue,"disabled-times-config":c(P),"validate-time":c(p),"onUpdate:hours":w[0]||(w[0]=N=>c(f)(N)),"onUpdate:minutes":w[1]||(w[1]=N=>c(f)(N,!1)),"onUpdate:seconds":w[2]||(w[2]=N=>c(f)(N,!1,!0)),onAmPmChange:w[3]||(w[3]=N=>S.$emit("am-pm-change",N))}),Le({_:2},[$e(c(u),(N,A)=>({name:N,fn:ye(q=>[te(S.$slots,N,Pe(Ie(q)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),pr={class:"dp__month_year_row"},mr=["aria-label","onClick","onKeydown"],yr=Ye({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Je},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(e,{expose:a,emit:o}){const l=o,t=e,{defaultedTransitions:v,defaultedAriaLabels:u,defaultedMultiCalendars:y,defaultedFilters:b,defaultedConfig:P,defaultedHighlight:f,propDates:p}=Ce(t),{transitionName:S,showTransition:w}=Wa(v),{buildMatrix:N}=fa(),{handleMonthYearChange:A,isDisabled:q,updateMonthYear:K}=$n(t,l),{showLeftIcon:J,showRightIcon:k}=nt(),$=X(!1),R=X(!1),I=X([null,null,null,null]);Fe(()=>{l("mount")});const V=r=>({get:()=>t[r],set:n=>{const d=r===qe.month?qe.year:qe.month;l("update-month-year",{[r]:n,[d]:t[d]}),r===qe.month?i(!0):m(!0)}}),Q=W(V(qe.month)),G=W(V(qe.year)),ae=W(()=>r=>({month:t.month,year:t.year,items:r===qe.month?t.months:t.years,instance:t.instance,updateMonthYear:K,toggle:r===qe.month?i:m})),x=W(()=>t.months.find(n=>n.value===t.month)||{text:"",value:0}),Y=W(()=>Sa(t.months,r=>{const n=t.month===r.value,d=Fa(r.value,vl(t.year,p.value.minDate),pl(t.year,p.value.maxDate))||b.value.months.includes(r.value),C=gl(f.value,r.value,t.year);return{active:n,disabled:d,highlighted:C}})),T=W(()=>Sa(t.years,r=>{const n=t.year===r.value,d=Fa(r.value,Ra(p.value.minDate),Ra(p.value.maxDate))||b.value.years.includes(r.value),C=Et(f.value,r.value);return{active:n,disabled:d,highlighted:C}})),M=(r,n)=>{n!==void 0?r.value=n:r.value=!r.value,r.value||l("overlay-closed")},i=(r=!1,n)=>{O(r),M($,n)},m=(r=!1,n)=>{O(r),M(R,n)},O=r=>{r||l("reset-flow")},ee=(r,n)=>{t.arrowNavigation&&(I.value[n]=Te(r),N(I.value,"monthYear"))},le=W(()=>{var r,n;return[{type:qe.month,index:1,toggle:i,modelValue:Q.value,updateModelValue:d=>Q.value=d,text:x.value.text,showSelectionGrid:$.value,items:Y.value,ariaLabel:(r=u.value)==null?void 0:r.openMonthsOverlay},{type:qe.year,index:2,toggle:m,modelValue:G.value,updateModelValue:d=>G.value=d,text:t.year,showSelectionGrid:R.value,items:T.value,ariaLabel:(n=u.value)==null?void 0:n.openYearsOverlay}]}),L=W(()=>t.disableYearSelect?[le.value[0]]:t.yearFirst?[...le.value].reverse():le.value);return a({toggleMonthPicker:i,toggleYearPicker:m,handleMonthYearChange:A}),(r,n)=>{var d,C,Z;return D(),F("div",pr,[r.$slots["month-year"]?te(r.$slots,"month-year",Pe(Ve({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:c(K),handleMonthYearChange:c(A),instance:e.instance}))):(D(),F(ge,{key:1},[c(J)(c(y),e.instance)&&!r.vertical?(D(),be(Na,{key:0,"aria-label":(d=c(u))==null?void 0:d.prevMonth,disabled:c(q)(!1),onActivate:n[0]||(n[0]=h=>c(A)(!1,!0)),onSetRef:n[1]||(n[1]=h=>ee(h,0))},{default:ye(()=>[r.$slots["arrow-left"]?te(r.$slots,"arrow-left",{key:0}):z("",!0),r.$slots["arrow-left"]?z("",!0):(D(),be(c(Rt),{key:1}))]),_:3},8,["aria-label","disabled"])):z("",!0),se("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:r.disableYearSelect}])},[(D(!0),F(ge,null,$e(L.value,(h,fe)=>(D(),F(ge,{key:h.type},[se("button",{ref_for:!0,ref:we=>ee(we,fe+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":h.ariaLabel,onClick:h.toggle,onKeydown:[de(De(h.toggle,["prevent"]),["enter"]),de(De(h.toggle,["prevent"]),["space"])]},[r.$slots[h.type]?te(r.$slots,h.type,{key:0,text:h.text,value:t[h.type]}):z("",!0),r.$slots[h.type]?z("",!0):(D(),F(ge,{key:1},[ua(Ne(h.text),1)],64))],40,mr),Ue(Pa,{name:c(S)(h.showSelectionGrid),css:c(w)},{default:ye(()=>[h.showSelectionGrid?(D(),be(ja,{key:0,items:h.items,"arrow-navigation":r.arrowNavigation,"hide-navigation":r.hideNavigation,"is-last":r.autoApply&&!c(P).keepActionRow,"skip-button-ref":!1,config:r.config,type:h.type,"header-refs":[],"esc-close":r.escClose,"menu-wrap-ref":r.menuWrapRef,"text-input":r.textInput,"aria-labels":r.ariaLabels,onSelected:h.updateModelValue,onToggle:h.toggle},Le({"button-icon":ye(()=>[r.$slots["calendar-icon"]?te(r.$slots,"calendar-icon",{key:0}):z("",!0),r.$slots["calendar-icon"]?z("",!0):(D(),be(c(Ta),{key:1}))]),_:2},[r.$slots[`${h.type}-overlay-value`]?{name:"item",fn:ye(({item:we})=>[te(r.$slots,`${h.type}-overlay-value`,{text:we.text,value:we.value})]),key:"0"}:void 0,r.$slots[`${h.type}-overlay`]?{name:"overlay",fn:ye(()=>[te(r.$slots,`${h.type}-overlay`,Pe(Ie(ae.value(h.type))))]),key:"1"}:void 0,r.$slots[`${h.type}-overlay-header`]?{name:"header",fn:ye(()=>[te(r.$slots,`${h.type}-overlay-header`,{toggle:h.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):z("",!0)]),_:2},1032,["name","css"])],64))),128))],2),c(J)(c(y),e.instance)&&r.vertical?(D(),be(Na,{key:1,"aria-label":(C=c(u))==null?void 0:C.prevMonth,disabled:c(q)(!1),onActivate:n[2]||(n[2]=h=>c(A)(!1,!0))},{default:ye(()=>[r.$slots["arrow-up"]?te(r.$slots,"arrow-up",{key:0}):z("",!0),r.$slots["arrow-up"]?z("",!0):(D(),be(c(Ot),{key:1}))]),_:3},8,["aria-label","disabled"])):z("",!0),c(k)(c(y),e.instance)?(D(),be(Na,{key:2,ref:"rightIcon",disabled:c(q)(!0),"aria-label":(Z=c(u))==null?void 0:Z.nextMonth,onActivate:n[3]||(n[3]=h=>c(A)(!0,!0)),onSetRef:n[4]||(n[4]=h=>ee(h,r.disableYearSelect?2:3))},{default:ye(()=>[r.$slots[r.vertical?"arrow-down":"arrow-right"]?te(r.$slots,r.vertical?"arrow-down":"arrow-right",{key:0}):z("",!0),r.$slots[r.vertical?"arrow-down":"arrow-right"]?z("",!0):(D(),be(tt(r.vertical?c(Bt):c(Pt)),{key:1}))]),_:3},8,["disabled","aria-label"])):z("",!0)],64))])}}}),fr=["aria-label"],hr={class:"dp__calendar_header",role:"row"},gr={key:0,class:"dp__calendar_header_item",role:"gridcell"},_r=["aria-label"],br=se("div",{class:"dp__calendar_header_separator"},null,-1),wr=["aria-label"],kr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Dr={class:"dp__cell_inner"},Mr=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Ar=Ye({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Je},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:a,emit:o}){const l=o,t=e,{buildMultiLevelMatrix:v}=fa(),{defaultedTransitions:u,defaultedConfig:y,defaultedAriaLabels:b,defaultedMultiCalendars:P,defaultedWeekNumbers:f}=Ce(t),p=X(null),S=X({bottom:"",left:"",transform:""}),w=X([]),N=X(null),A=X(!0),q=X(""),K=X({startX:0,endX:0,startY:0,endY:0}),J=X([]),k=X({left:"50%"}),$=W(()=>t.calendar?t.calendar(t.mappedDates):t.mappedDates),R=W(()=>t.dayNames?Array.isArray(t.dayNames)?t.dayNames:t.dayNames(t.locale,+t.weekStart):Gl(t.formatLocale,t.locale,+t.weekStart));Fe(()=>{l("mount",{cmp:"calendar",refs:w}),y.value.noSwipe||N.value&&(N.value.addEventListener("touchstart",m,{passive:!1}),N.value.addEventListener("touchend",O,{passive:!1}),N.value.addEventListener("touchmove",ee,{passive:!1})),t.monthChangeOnScroll&&N.value&&N.value.addEventListener("wheel",r,{passive:!1})});const I=h=>h?t.vertical?"vNext":"next":t.vertical?"vPrevious":"previous",V=(h,fe)=>{if(t.transitions){const we=ze(oa(B(),t.month,t.year));q.value=Re(ze(oa(B(),h,fe)),we)?u.value[I(!0)]:u.value[I(!1)],A.value=!1,pa(()=>{A.value=!0})}},Q=W(()=>({[t.calendarClassName]:!!t.calendarClassName})),G=W(()=>h=>{const fe=Ql(h);return{dp__marker_dot:fe.type==="dot",dp__marker_line:fe.type==="line"}}),ae=W(()=>h=>_e(h,p.value)),x=W(()=>({dp__calendar:!0,dp__calendar_next:P.value.count>0&&t.instance!==0})),Y=W(()=>h=>t.hideOffsetDates?h.current:!0),T=h=>ta(h,"yyyy-MM-dd"),M=async(h,fe,we)=>{var g,ne;if(l("set-hover-date",h),(ne=(g=h.marker)==null?void 0:g.tooltip)!=null&&ne.length){const me=Te(w.value[fe][we]);if(me){const{width:s,height:H}=me.getBoundingClientRect();p.value=h.value;let ie={left:`${s/2}px`},ce=-50;if(await pa(),J.value[0]){const{left:xe,width:j}=J.value[0].getBoundingClientRect();xe<0&&(ie={left:"0"},ce=0,k.value.left=`${s/2}px`),window.innerWidth<xe+j&&(ie={right:"0"},ce=0,k.value.left=`${j-s/2}px`)}S.value={bottom:`${H}px`,...ie,transform:`translateX(${ce}%)`},l("tooltip-open",h.marker)}}},i=h=>{p.value&&(p.value=null,S.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",h.marker))},m=h=>{K.value.startX=h.changedTouches[0].screenX,K.value.startY=h.changedTouches[0].screenY},O=h=>{K.value.endX=h.changedTouches[0].screenX,K.value.endY=h.changedTouches[0].screenY,le()},ee=h=>{t.vertical&&!t.inline&&h.preventDefault()},le=()=>{const h=t.vertical?"Y":"X";Math.abs(K.value[`start${h}`]-K.value[`end${h}`])>10&&l("handle-swipe",K.value[`start${h}`]>K.value[`end${h}`]?"right":"left")},L=(h,fe,we)=>{h&&(Array.isArray(w.value[fe])?w.value[fe][we]=h:w.value[fe]=[h]),t.arrowNavigation&&v(w.value,"calendar")},r=h=>{t.monthChangeOnScroll&&(h.preventDefault(),l("handle-scroll",h))},n=h=>f.value.type==="local"?Hl(h.value,{weekStartsOn:+t.weekStart}):f.value.type==="iso"?Wl(h.value):typeof f.value.type=="function"?f.value.type(h.value):"",d=h=>{const fe=h[0];return f.value.hideOnOffsetDates?h.some(we=>we.current)?n(fe):"":n(fe)},C=(h,fe)=>{ca(h,y.value),l("select-date",fe)},Z=h=>{ca(h,y.value)};return a({triggerTransition:V}),(h,fe)=>{var we;return D(),F("div",{class:ke(x.value)},[se("div",{ref_key:"calendarWrapRef",ref:N,role:"grid",class:ke(Q.value),"aria-label":(we=c(b))==null?void 0:we.calendarWrap},[se("div",hr,[h.weekNumbers?(D(),F("div",gr,Ne(h.weekNumName),1)):z("",!0),(D(!0),F(ge,null,$e(R.value,(g,ne)=>{var me,s;return D(),F("div",{key:ne,class:"dp__calendar_header_item",role:"gridcell","aria-label":(s=(me=c(b))==null?void 0:me.weekDay)==null?void 0:s.call(me,ne)},[h.$slots["calendar-header"]?te(h.$slots,"calendar-header",{key:0,day:g,index:ne}):z("",!0),h.$slots["calendar-header"]?z("",!0):(D(),F(ge,{key:1},[ua(Ne(g),1)],64))],8,_r)}),128))]),br,Ue(Pa,{name:q.value,css:!!h.transitions},{default:ye(()=>{var g;return[A.value?(D(),F("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((g=c(b))==null?void 0:g.calendarDays)||void 0},[(D(!0),F(ge,null,$e($.value,(ne,me)=>(D(),F("div",{key:me,class:"dp__calendar_row",role:"row"},[h.weekNumbers?(D(),F("div",kr,[se("div",Dr,Ne(d(ne.days)),1)])):z("",!0),(D(!0),F(ge,null,$e(ne.days,(s,H)=>{var ie,ce,xe;return D(),F("div",{id:T(s.value),ref_for:!0,ref:j=>L(j,me,H),key:H+me,role:"gridcell",class:"dp__calendar_item","aria-selected":(s.classData.dp__active_date||s.classData.dp__range_start||s.classData.dp__range_start)??void 0,"aria-disabled":s.classData.dp__cell_disabled||void 0,"aria-label":(ce=(ie=c(b))==null?void 0:ie.day)==null?void 0:ce.call(ie,s),tabindex:"0",onClick:De(j=>C(j,s),["prevent"]),onKeydown:[de(j=>h.$emit("select-date",s),["enter"]),de(j=>h.$emit("handle-space",s),["space"])],onMouseenter:j=>M(s,me,H),onMouseleave:j=>i(s)},[se("div",{class:ke(["dp__cell_inner",s.classData])},[h.$slots.day&&Y.value(s)?te(h.$slots,"day",{key:0,day:+s.text,date:s.value}):z("",!0),h.$slots.day?z("",!0):(D(),F(ge,{key:1},[ua(Ne(s.text),1)],64)),s.marker&&Y.value(s)?(D(),F(ge,{key:2},[h.$slots.marker?te(h.$slots,"marker",{key:0,marker:s.marker,day:+s.text,date:s.value}):(D(),F("div",{key:1,class:ke(G.value(s.marker)),style:Xe(s.marker.color?{backgroundColor:s.marker.color}:{})},null,6))],64)):z("",!0),ae.value(s.value)?(D(),F("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:J,class:"dp__marker_tooltip",style:Xe(S.value)},[(xe=s.marker)!=null&&xe.tooltip?(D(),F("div",{key:0,class:"dp__tooltip_content",onClick:Z},[(D(!0),F(ge,null,$e(s.marker.tooltip,(j,Ge)=>(D(),F("div",{key:Ge,class:"dp__tooltip_text"},[h.$slots["marker-tooltip"]?te(h.$slots,"marker-tooltip",{key:0,tooltip:j,day:s.value}):z("",!0),h.$slots["marker-tooltip"]?z("",!0):(D(),F(ge,{key:1},[se("div",{class:"dp__tooltip_mark",style:Xe(j.color?{backgroundColor:j.color}:{})},null,4),se("div",null,Ne(j.text),1)],64))]))),128)),se("div",{class:"dp__arrow_bottom_tp",style:Xe(k.value)},null,4)])):z("",!0)],4)):z("",!0)],2)],40,Mr)}),128))]))),128))],8,wr)):z("",!0)]}),_:3},8,["name","css"])],10,fr)],2)}}}),Zt=e=>Array.isArray(e),$r=(e,a,o,l)=>{const t=X([]),v=X(new Date),{modelValue:u,calendars:y,time:b}=za(e,a),{defaultedMultiCalendars:P,defaultedStartTime:f,defaultedRange:p,defaultedTz:S,propDates:w}=Ce(e),{validateMonthYearInRange:N,isDisabled:A,isDateRangeAllowed:q,checkMinMaxRange:K}=ha(e),{updateTimeValues:J,getSetDateTime:k,setTime:$,assignStartTime:R,validateTime:I,disabledTimesConfig:V}=$l(e,b,u,l),Q=W(()=>_=>y.value[_]?y.value[_].month:0),G=W(()=>_=>y.value[_]?y.value[_].year:0),ae=(_,U,re)=>{var ve,E;y.value[_]||(y.value[_]={month:0,year:0}),y.value[_].month=qt(U)?(ve=y.value[_])==null?void 0:ve.month:U,y.value[_].year=qt(re)?(E=y.value[_])==null?void 0:E.year:re},x=()=>{e.autoApply&&a("select-date")};ma(u,(_,U)=>{JSON.stringify(_)!==JSON.stringify(U)&&M()},{deep:!0}),Fe(()=>{e.shadow||(u.value||(Z(),f.value&&R(f.value)),M(!0),e.focusStartDate&&e.startDate&&Z())});const Y=W(()=>{var _;return(_=e.flow)!=null&&_.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),T=()=>{e.autoApply&&Y.value&&a("auto-apply")},M=(_=!1)=>{if(u.value)return Array.isArray(u.value)?(t.value=u.value,r(_)):O(u.value,_);if(P.value.count&&_&&!e.startDate)return m(B(),_)},i=()=>Array.isArray(u.value)&&p.value.enabled?he(u.value[0])===he(u.value[1]??u.value[0]):!1,m=(_,U=!1)=>{if((!P.value.count||!P.value.static||U)&&ae(0,he(_),pe(_)),P.value.count&&(!P.value.solo||!u.value||i()))for(let re=1;re<P.value.count;re++){const ve=Me(B(),{month:Q.value(re-1),year:G.value(re-1)}),E=ll(ve,{months:1});y.value[re]={month:he(E),year:pe(E)}}},O=(_,U)=>{m(_),$("hours",Ke(_)),$("minutes",la(_)),$("seconds",Ca(_)),P.value.count&&U&&C()},ee=_=>{if(P.value.count){if(P.value.solo)return 0;const U=he(_[0]),re=he(_[1]);return Math.abs(re-U)<P.value.count?0:1}return 1},le=(_,U)=>{_[1]&&p.value.showLastInRange?m(_[ee(_)],U):m(_[0],U);const re=(ve,E)=>[ve(_[0]),_[1]?ve(_[1]):b[E][1]];$("hours",re(Ke,"hours")),$("minutes",re(la,"minutes")),$("seconds",re(Ca,"seconds"))},L=(_,U)=>{if((p.value.enabled||e.weekPicker)&&!e.multiDates)return le(_,U);if(e.multiDates&&U){const re=_[_.length-1];return O(re,U)}},r=_=>{const U=u.value;L(U,_),P.value.count&&P.value.solo&&C()},n=(_,U)=>{const re=Me(B(),{month:Q.value(U),year:G.value(U)}),ve=_<0?wa(re,1):La(re,1);N(he(ve),pe(ve),_<0,e.preventMinMaxNavigation)&&(ae(U,he(ve),pe(ve)),a("update-month-year",{instance:U,month:he(ve),year:pe(ve)}),P.value.count&&!P.value.solo&&d(U),o())},d=_=>{for(let U=_-1;U>=0;U--){const re=La(Me(B(),{month:Q.value(U+1),year:G.value(U+1)}),1);ae(U,he(re),pe(re))}for(let U=_+1;U<=P.value.count-1;U++){const re=wa(Me(B(),{month:Q.value(U-1),year:G.value(U-1)}),1);ae(U,he(re),pe(re))}},C=()=>{if(Array.isArray(u.value)&&u.value.length===2){const _=B(B(u.value[1]?u.value[1]:wa(u.value[0],1))),[U,re]=[he(u.value[0]),pe(u.value[0])],[ve,E]=[he(u.value[1]),pe(u.value[1])];(U!==ve||U===ve&&re!==E)&&P.value.solo&&ae(1,he(_),pe(_))}else u.value&&!Array.isArray(u.value)&&(ae(0,he(u.value),pe(u.value)),m(B()))},Z=()=>{e.startDate&&(ae(0,he(B(e.startDate)),pe(B(e.startDate))),P.value.count&&d(0))},h=(_,U)=>{if(e.monthChangeOnScroll){const re=new Date().getTime()-v.value.getTime(),ve=Math.abs(_.deltaY);let E=500;ve>1&&(E=100),ve>100&&(E=0),re>E&&(v.value=new Date,n(e.monthChangeOnScroll!=="inverse"?-_.deltaY:_.deltaY,U))}},fe=(_,U,re=!1)=>{e.monthChangeOnArrows&&e.vertical===re&&we(_,U)},we=(_,U)=>{n(_==="right"?-1:1,U)},g=_=>{if(w.value.markers)return et(_.value,w.value.markers)},ne=(_,U)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[_==0,!0];case"fair":return[_==0||U>_,!0];case"append":return[!1,!1];default:return[!1,!1]}},me=(_,U,re,ve)=>{if(e.sixWeeks&&_.length<6){const E=6-_.length,oe=(U.getDay()+7-ve)%7,ue=6-(re.getDay()+7-ve)%7,[na,Ze]=ne(oe,ue);for(let ga=1;ga<=E;ga++)if(Ze?!!(ga%2)==na:na){const ia=_[0].days[0],pt=s(ba(ia.value,-7),he(U));_.unshift({days:pt})}else{const ia=_[_.length-1],pt=ia.days[ia.days.length-1],Cl=s(ba(pt.value,1),he(U));_.push({days:Cl})}}return _},s=(_,U)=>{const re=B(_),ve=[];for(let E=0;E<7;E++){const oe=ba(re,E),ue=he(oe)!==U;ve.push({text:e.hideOffsetDates&&ue?"":oe.getDate(),value:oe,current:!ue,classData:{}})}return ve},H=(_,U)=>{const re=[],ve=new Date(U,_),E=new Date(U,_+1,0),oe=e.weekStart,ue=tl(ve,{weekStartsOn:oe}),na=Ze=>{const ga=s(Ze,_);if(re.push({days:ga}),!re[re.length-1].days.some(ia=>_e(ze(ia.value),ze(E)))){const ia=ba(Ze,7);na(ia)}};return na(ue),me(re,ve,E,oe)},ie=_=>{const U=va(B(_.value),b.hours,b.minutes,Oa());a("date-update",U),e.multiDates?It(U,u,e.multiDatesLimit):u.value=U,l(),pa().then(()=>{T()})},ce=_=>p.value.noDisabledRange?ml(t.value[0],_).some(U=>A(U)):!1,xe=()=>{t.value=u.value?u.value.slice():[],t.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(t.value=[])},j=(_,U)=>{const re=[B(_.value),ba(B(_.value),+p.value.autoRange)];q(re)?(U&&Ge(_.value),t.value=re):a("invalid-date",_.value)},Ge=_=>{const U=he(B(_)),re=pe(B(_));if(ae(0,U,re),P.value.count>0)for(let ve=1;ve<P.value.count;ve++){const E=ln(Me(B(_),{year:Q.value(ve-1),month:G.value(ve-1)}));ae(ve,E.month,E.year)}},He=_=>{if(ce(_.value)||!K(_.value,u.value,p.value.fixedStart?0:1))return a("invalid-date",_.value);t.value=Dl(B(_.value),u,a,p)},Ua=(_,U)=>{if(xe(),p.value.autoRange)return j(_,U);if(p.value.fixedStart||p.value.fixedEnd)return He(_);t.value[0]?K(B(_.value),u.value)&&!ce(_.value)?Se(B(_.value),B(t.value[0]))?(t.value.unshift(B(_.value)),a("range-end",t.value[0])):(t.value[1]=B(_.value),a("range-end",t.value[1])):(e.autoApply&&a("auto-apply-invalid",_.value),a("invalid-date",_.value)):(t.value[0]=B(_.value),a("range-start",t.value[0]))},Oa=(_=!0)=>e.enableSeconds?Array.isArray(b.seconds)?_?b.seconds[0]:b.seconds[1]:b.seconds:0,Ba=_=>{t.value[_]=va(t.value[_],b.hours[_],b.minutes[_],Oa(_!==1))},Va=()=>{var _,U;t.value[0]&&t.value[1]&&+((_=t.value)==null?void 0:_[0])>+((U=t.value)==null?void 0:U[1])&&(t.value.reverse(),a("range-start",t.value[0]),a("range-end",t.value[1]))},je=()=>{t.value.length&&(t.value[0]&&!t.value[1]?Ba(0):(Ba(0),Ba(1),l()),Va(),u.value=t.value.slice(),ut(t.value,a,e.autoApply,e.modelAuto))},it=(_,U=!1)=>{if(A(_.value)||!_.current&&e.hideOffsetDates)return a("invalid-date",_.value);if(!p.value.enabled)return ie(_);Zt(b.hours)&&Zt(b.minutes)&&!e.multiDates&&(Ua(_,U),je())},st=(_,U)=>{var re;ae(_,U.month,U.year),P.value.count&&!P.value.solo&&d(_),a("update-month-year",{instance:_,month:U.month,year:U.year}),o(P.value.solo?_:void 0);const ve=(re=e.flow)!=null&&re.length?e.flow[e.flowStep]:void 0;!U.fromNav&&(ve===ea.month||ve===ea.year)&&l()},Ga=(_,U)=>{kl({value:_,modelValue:u,range:p.value.enabled,timezone:U?void 0:S.value.timezone}),x(),e.multiCalendars&&pa().then(()=>M(!0))},dt=()=>{p.value.enabled?u.value&&Array.isArray(u.value)&&u.value[0]?u.value=Se(B(),u.value[0])?[B(),u.value[0]]:[u.value[0],B()]:u.value=[B()]:u.value=B(),x()},ct=()=>{if(Array.isArray(u.value))if(e.multiDates){const _=vt();u.value[u.value.length-1]=k(_)}else u.value=u.value.map((_,U)=>_&&k(_,U));else u.value=k(u.value);a("time-update")},vt=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:y,modelValue:u,month:Q,year:G,time:b,disabledTimesConfig:V,validateTime:I,getCalendarDays:H,getMarker:g,handleScroll:h,handleSwipe:we,handleArrow:fe,selectDate:it,updateMonthYear:st,presetDate:Ga,selectCurrentDate:dt,updateTime:(_,U=!0,re=!1)=>{J(_,U,re,ct)}}},xr={key:0},Cr=Ye({__name:"DatePicker",props:{...Je},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:a,emit:o}){const l=o,t=e,{calendars:v,month:u,year:y,modelValue:b,time:P,disabledTimesConfig:f,validateTime:p,getCalendarDays:S,getMarker:w,handleArrow:N,handleScroll:A,handleSwipe:q,selectDate:K,updateMonthYear:J,presetDate:k,selectCurrentDate:$,updateTime:R}=$r(t,l,le,L),I=Ma(),{setHoverDate:V,getDayClassData:Q,clearHoverDate:G}=Rn(b,t),{defaultedMultiCalendars:ae}=Ce(t),x=X([]),Y=X([]),T=X(null),M=We(I,"calendar"),i=We(I,"monthYear"),m=We(I,"timePicker"),O=n=>{t.shadow||l("mount",n)};ma(v,()=>{t.shadow||setTimeout(()=>{l("recalculate-position")},0)},{deep:!0});const ee=W(()=>n=>S(u.value(n),y.value(n)).map(d=>({...d,days:d.days.map(C=>(C.marker=w(C),C.classData=Q(C),C))})));function le(n){var d;n||n===0?(d=Y.value[n])==null||d.triggerTransition(u.value(n),y.value(n)):Y.value.forEach((C,Z)=>C.triggerTransition(u.value(Z),y.value(Z)))}function L(){l("update-flow-step")}const r=(n,d=!1)=>{K(n,d),t.spaceConfirm&&l("select-date")};return a({clearHoverDate:G,presetDate:k,selectCurrentDate:$,toggleMonthPicker:(n,d,C=0)=>{var Z;(Z=x.value[C])==null||Z.toggleMonthPicker(n,d)},toggleYearPicker:(n,d,C=0)=>{var Z;(Z=x.value[C])==null||Z.toggleYearPicker(n,d)},toggleTimePicker:(n,d,C)=>{var Z;(Z=T.value)==null||Z.toggleTimePicker(n,d,C)},handleArrow:N,updateMonthYear:J,getSidebarProps:()=>({modelValue:b,month:u,year:y,time:P,updateTime:R,updateMonthYear:J,selectDate:K,presetDate:k})}),(n,d)=>(D(),F(ge,null,[Ue(ot,{"multi-calendars":c(ae).count,collapse:n.collapse},{default:ye(({instance:C,index:Z})=>[n.disableMonthYearSelect?z("",!0):(D(),be(yr,Ve({key:0,ref:h=>{h&&(x.value[Z]=h)},months:c(sl)(n.formatLocale,n.locale,n.monthNameFormat),years:c(Vt)(n.yearRange,n.reverseYears),month:c(u)(C),year:c(y)(C),instance:C},n.$props,{onMount:d[0]||(d[0]=h=>O(c(Da).header)),onResetFlow:d[1]||(d[1]=h=>n.$emit("reset-flow")),onUpdateMonthYear:h=>c(J)(C,h),onOverlayClosed:d[2]||(d[2]=h=>n.$emit("focus-menu"))}),Le({_:2},[$e(c(i),(h,fe)=>({name:h,fn:ye(we=>[te(n.$slots,h,Pe(Ie(we)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ue(Ar,Ve({ref:h=>{h&&(Y.value[Z]=h)},"mapped-dates":ee.value(C),month:c(u)(C),year:c(y)(C),instance:C},n.$props,{onSelectDate:h=>c(K)(h,C!==1),onHandleSpace:h=>r(h,C!==1),onSetHoverDate:d[3]||(d[3]=h=>c(V)(h)),onHandleScroll:h=>c(A)(h,C),onHandleSwipe:h=>c(q)(h,C),onMount:d[4]||(d[4]=h=>O(c(Da).calendar)),onResetFlow:d[5]||(d[5]=h=>n.$emit("reset-flow")),onTooltipOpen:d[6]||(d[6]=h=>n.$emit("tooltip-open",h)),onTooltipClose:d[7]||(d[7]=h=>n.$emit("tooltip-close",h))}),Le({_:2},[$e(c(M),(h,fe)=>({name:h,fn:ye(we=>[te(n.$slots,h,Pe(Ie({...we})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),n.enableTimePicker?(D(),F("div",xr,[n.$slots["time-picker"]?te(n.$slots,"time-picker",Pe(Ve({key:0},{time:c(P),updateTime:c(R)}))):(D(),be(Al,Ve({key:1,ref_key:"timePickerRef",ref:T},n.$props,{hours:c(P).hours,minutes:c(P).minutes,seconds:c(P).seconds,"internal-model-value":n.internalModelValue,"disabled-times-config":c(f),"validate-time":c(p),onMount:d[8]||(d[8]=C=>O(c(Da).timePicker)),"onUpdate:hours":d[9]||(d[9]=C=>c(R)(C)),"onUpdate:minutes":d[10]||(d[10]=C=>c(R)(C,!1)),"onUpdate:seconds":d[11]||(d[11]=C=>c(R)(C,!1,!0)),onResetFlow:d[12]||(d[12]=C=>n.$emit("reset-flow")),onOverlayClosed:d[13]||(d[13]=C=>n.$emit("time-picker-close")),onOverlayOpened:d[14]||(d[14]=C=>n.$emit("time-picker-open",C)),onAmPmChange:d[15]||(d[15]=C=>n.$emit("am-pm-change",C))}),Le({_:2},[$e(c(m),(C,Z)=>({name:C,fn:ye(h=>[te(n.$slots,C,Pe(Ie(h)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):z("",!0)],64))}}),Sr=(e,a)=>{const o=X(),{defaultedMultiCalendars:l,defaultedConfig:t,defaultedHighlight:v,defaultedRange:u,propDates:y}=Ce(e),{modelValue:b,year:P,month:f,calendars:p}=za(e,a),{isDisabled:S}=ha(e),{selectYear:w,groupedYears:N,showYearPicker:A,isDisabled:q,toggleYearPicker:K,handleYearSelect:J,handleYear:k}=Ml({modelValue:b,multiCalendars:l,highlight:v,calendars:p,propDates:y,month:f,year:P,props:e,emit:a}),$=(T,M)=>[T,M].map(i=>ta(i,"MMMM",{locale:e.formatLocale})).join("-"),R=W(()=>T=>b.value?Array.isArray(b.value)?b.value.some(M=>Wt(T,M)):Wt(b.value,T):!1),I=T=>{if(u.value.enabled){if(Array.isArray(b.value)){const M=_e(T,b.value[0])||_e(T,b.value[1]);return lt(b.value,o.value,T)&&!M}return!1}return!1},V=(T,M)=>T.quarter===jt(M)&&T.year===pe(M),Q=T=>typeof v.value=="function"?v.value({quarter:jt(T),year:pe(T)}):!!v.value.quarters.find(M=>V(M,T)),G=W(()=>T=>{const M=Me(new Date,{year:P.value(T)});return Nl({start:El(M),end:Il(M)}).map(i=>{const m=Ll(i),O=zt(i),ee=S(i),le=I(m),L=Q(m);return{text:$(m,O),value:m,active:R.value(m),highlighted:L,disabled:ee,isBetween:le}})}),ae=T=>{It(T,b,e.multiDatesLimit),a("auto-apply",!0)},x=T=>{b.value=Lt(b,T,a),ut(b.value,a,e.autoApply,e.modelAuto)},Y=T=>{b.value=T,a("auto-apply")};return{defaultedConfig:t,defaultedMultiCalendars:l,groupedYears:N,year:P,isDisabled:q,quarters:G,showYearPicker:A,modelValue:b,setHoverDate:T=>{o.value=T},selectYear:w,selectQuarter:(T,M,i)=>{if(!i)return p.value[M].month=he(zt(T)),e.multiDates?ae(T):u.value.enabled?x(T):Y(T)},toggleYearPicker:K,handleYearSelect:J,handleYear:k}},Rr={class:"dp--quarter-items"},Pr=["disabled","onClick","onMouseover"],Tr=Ye({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Je},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=Ma(),u=We(v,"yearMode"),{defaultedMultiCalendars:y,defaultedConfig:b,groupedYears:P,year:f,isDisabled:p,quarters:S,modelValue:w,showYearPicker:N,setHoverDate:A,selectQuarter:q,toggleYearPicker:K,handleYearSelect:J,handleYear:k}=Sr(t,l);return a({getSidebarProps:()=>({modelValue:w,year:f,selectQuarter:q,handleYearSelect:J,handleYear:k})}),($,R)=>(D(),be(ot,{"multi-calendars":c(y).count,collapse:$.collapse,stretch:""},{default:ye(({instance:I})=>[se("div",{class:"dp-quarter-picker-wrap",style:Xe({minHeight:`${c(b).modeHeight}px`})},[se("div",null,[Ue(wl,Ve($.$props,{items:c(P)(I),instance:I,"show-year-picker":c(N)[I],year:c(f)(I),"is-disabled":V=>c(p)(I,V),onHandleYear:V=>c(k)(I,V),onYearSelect:V=>c(J)(V,I),onToggleYearPicker:V=>c(K)(I,V==null?void 0:V.flow,V==null?void 0:V.show)}),Le({_:2},[$e(c(u),(V,Q)=>({name:V,fn:ye(G=>[te($.$slots,V,Pe(Ie(G)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),se("div",Rr,[(D(!0),F(ge,null,$e(c(S)(I),(V,Q)=>(D(),F("div",{key:Q},[se("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":V.active,"dp--qr-btn-between":V.isBetween,"dp--qr-btn-disabled":V.disabled,"dp--highlighted":V.highlighted}]),disabled:V.disabled,onClick:G=>c(q)(V.value,I,V.disabled),onMouseover:G=>c(A)(V.value)},[$.$slots.quarter?te($.$slots,"quarter",{key:0,value:V.value,text:V.text}):(D(),F(ge,{key:1},[ua(Ne(V.text),1)],64))],42,Pr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Or=["id","aria-label"],Br={key:0,class:"dp--menu-load-container"},Vr=se("span",{class:"dp--menu-loader"},null,-1),Yr=[Vr],Nr={key:0,class:"dp__sidebar_left"},Er=["onClick","onKeydown"],Ir={key:2,class:"dp__sidebar_right"},Lr={key:3,class:"dp__action_extra"},el=Ye({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...rt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=X(null),u=W(()=>{const{openOnTop:s,...H}=t;return{...H,flowStep:Q.value,collapse:t.collapse,noOverlayFocus:t.noOverlayFocus,menuWrapRef:v.value}}),{setMenuFocused:y,setShiftKey:b,control:P}=_l(),f=Ma(),{defaultedTextInput:p,defaultedInline:S,defaultedConfig:w}=Ce(t),N=X(null),A=X(0),q=X(null),K=X(!1),J=X(null);Fe(()=>{if(!t.shadow){K.value=!0,k(),window.addEventListener("resize",k);const s=Te(v);if(s&&!p.value.enabled&&!S.value.enabled&&(y(!0),T()),s){const H=ie=>{w.value.allowPreventDefault&&ie.preventDefault(),ca(ie,w.value,!0)};s.addEventListener("pointerdown",H),s.addEventListener("mousedown",H)}}}),at(()=>{window.removeEventListener("resize",k)});const k=()=>{const s=Te(q);s&&(A.value=s.getBoundingClientRect().width)},{arrowRight:$,arrowLeft:R,arrowDown:I,arrowUp:V}=fa(),{flowStep:Q,updateFlowStep:G,childMount:ae,resetFlow:x}=Pn(t,l,J),Y=W(()=>t.monthPicker?Gn:t.yearPicker?Qn:t.timePicker?vr:t.quarterPicker?Tr:Cr),T=()=>{const s=Te(v);s&&s.focus({preventScroll:!0})},M=W(()=>{var s;return((s=J.value)==null?void 0:s.getSidebarProps())||{}}),i=()=>{t.openOnTop&&l("recalculate-position")},m=We(f,"action"),O=W(()=>t.monthPicker||t.yearPicker?We(f,"monthYear"):t.timePicker?We(f,"timePicker"):We(f,"shared")),ee=W(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),le=W(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly,"dp-menu-loading":t.loading})),L=W(()=>({dp__menu:!0,dp__menu_index:!S.value.enabled,dp__relative:S.value.enabled,[t.menuClassName]:!!t.menuClassName})),r=s=>{ca(s,w.value,!0)},n=()=>{t.escClose&&l("close-picker")},d=s=>{if(t.arrowNavigation){if(s==="up")return V();if(s==="down")return I();if(s==="left")return R();if(s==="right")return $()}else s==="left"||s==="up"?we("handleArrow","left",0,s==="up"):we("handleArrow","right",0,s==="down")},C=s=>{b(s.shiftKey),!t.disableMonthYearSelect&&s.code==="Tab"&&s.target.classList.contains("dp__menu")&&P.value.shiftKeyInMenu&&(s.preventDefault(),ca(s,w.value,!0),l("close-picker"))},Z=()=>{T(),l("time-picker-close")},h=s=>{var H,ie,ce;(H=J.value)==null||H.toggleTimePicker(!1,!1),(ie=J.value)==null||ie.toggleMonthPicker(!1,!1,s),(ce=J.value)==null||ce.toggleYearPicker(!1,!1,s)},fe=(s,H=0)=>{var ie,ce,xe;return s==="month"?(ie=J.value)==null?void 0:ie.toggleMonthPicker(!1,!0,H):s==="year"?(ce=J.value)==null?void 0:ce.toggleYearPicker(!1,!0,H):s==="time"?(xe=J.value)==null?void 0:xe.toggleTimePicker(!0,!1):h(H)},we=(s,...H)=>{var ie,ce;(ie=J.value)!=null&&ie[s]&&((ce=J.value)==null||ce[s](...H))},g=()=>{we("selectCurrentDate")},ne=(s,H)=>{we("presetDate",s,H)},me=()=>{we("clearHoverDate")};return a({updateMonthYear:(s,H)=>{we("updateMonthYear",s,H)},switchView:fe}),(s,H)=>{var ie,ce,xe;return D(),F("div",{id:s.uid?`dp-menu-${s.uid}`:void 0,ref_key:"dpMenuRef",ref:v,tabindex:"0",role:"dialog","aria-label":(ie=s.ariaLabels)==null?void 0:ie.menu,class:ke(L.value),onMouseleave:me,onClick:r,onKeydown:[de(n,["esc"]),H[18]||(H[18]=de(De(j=>d("left"),["prevent"]),["left"])),H[19]||(H[19]=de(De(j=>d("up"),["prevent"]),["up"])),H[20]||(H[20]=de(De(j=>d("down"),["prevent"]),["down"])),H[21]||(H[21]=de(De(j=>d("right"),["prevent"]),["right"])),C]},[(s.disabled||s.readonly)&&c(S).enabled||s.loading?(D(),F("div",{key:0,class:ke(le.value)},[s.loading?(D(),F("div",Br,Yr)):z("",!0)],2)):z("",!0),!c(S).enabled&&!s.teleportCenter?(D(),F("div",{key:1,class:ke(ee.value)},null,2)):z("",!0),se("div",{ref_key:"innerMenuRef",ref:q,class:ke({dp__menu_content_wrapper:((ce=s.presetDates)==null?void 0:ce.length)||!!s.$slots["left-sidebar"]||!!s.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&((xe=s.presetDates)==null?void 0:xe.length)||!!s.$slots["left-sidebar"]||!!s.$slots["right-sidebar"]}),style:Xe({"--dp-menu-width":`${A.value}px`})},[s.$slots["left-sidebar"]?(D(),F("div",Nr,[te(s.$slots,"left-sidebar",Pe(Ie(M.value)))])):z("",!0),s.presetDates.length?(D(),F("div",{key:1,class:ke({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(D(!0),F(ge,null,$e(s.presetDates,(j,Ge)=>(D(),F(ge,{key:Ge},[j.slot?te(s.$slots,j.slot,{key:0,presetDate:ne,label:j.label,value:j.value}):(D(),F("button",{key:1,type:"button",style:Xe(j.style||{}),class:ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),onClick:De(He=>ne(j.value,j.noTz),["prevent"]),onKeydown:[de(De(He=>ne(j.value,j.noTz),["prevent"]),["enter"]),de(De(He=>ne(j.value,j.noTz),["prevent"]),["space"])]},Ne(j.label),47,Er))],64))),128))],2)):z("",!0),se("div",{ref_key:"calendarWrapperRef",ref:N,class:"dp__instance_calendar",role:"document"},[(D(),be(tt(Y.value),Ve({ref_key:"dynCmpRef",ref:J},u.value,{"flow-step":c(Q),onMount:c(ae),onUpdateFlowStep:c(G),onResetFlow:c(x),onFocusMenu:T,onSelectDate:H[0]||(H[0]=j=>s.$emit("select-date")),onDateUpdate:H[1]||(H[1]=j=>s.$emit("date-update",j)),onTooltipOpen:H[2]||(H[2]=j=>s.$emit("tooltip-open",j)),onTooltipClose:H[3]||(H[3]=j=>s.$emit("tooltip-close",j)),onAutoApply:H[4]||(H[4]=j=>s.$emit("auto-apply",j)),onRangeStart:H[5]||(H[5]=j=>s.$emit("range-start",j)),onRangeEnd:H[6]||(H[6]=j=>s.$emit("range-end",j)),onInvalidFixedRange:H[7]||(H[7]=j=>s.$emit("invalid-fixed-range",j)),onTimeUpdate:H[8]||(H[8]=j=>s.$emit("time-update")),onAmPmChange:H[9]||(H[9]=j=>s.$emit("am-pm-change",j)),onTimePickerOpen:H[10]||(H[10]=j=>s.$emit("time-picker-open",j)),onTimePickerClose:Z,onRecalculatePosition:i,onUpdateMonthYear:H[11]||(H[11]=j=>s.$emit("update-month-year",j)),onAutoApplyInvalid:H[12]||(H[12]=j=>s.$emit("auto-apply-invalid",j)),onInvalidDate:H[13]||(H[13]=j=>s.$emit("invalid-date",j)),"onUpdate:internalModelValue":H[14]||(H[14]=j=>s.$emit("update:internal-model-value",j))}),Le({_:2},[$e(O.value,(j,Ge)=>({name:j,fn:ye(He=>[te(s.$slots,j,Pe(Ie({...He})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),s.$slots["right-sidebar"]?(D(),F("div",Ir,[te(s.$slots,"right-sidebar",Pe(Ie(M.value)))])):z("",!0),s.$slots["action-extra"]?(D(),F("div",Lr,[s.$slots["action-extra"]?te(s.$slots,"action-extra",{key:0,selectCurrentDate:g}):z("",!0)])):z("",!0)],6),!s.autoApply||c(w).keepActionRow?(D(),be(En,Ve({key:2,"menu-mount":K.value},u.value,{"calendar-width":A.value,onClosePicker:H[15]||(H[15]=j=>s.$emit("close-picker")),onSelectDate:H[16]||(H[16]=j=>s.$emit("select-date")),onInvalidSelect:H[17]||(H[17]=j=>s.$emit("invalid-select")),onSelectNow:g}),Le({_:2},[$e(c(m),(j,Ge)=>({name:j,fn:ye(He=>[te(s.$slots,j,Pe(Ie({...He})))])}))]),1040,["menu-mount","calendar-width"])):z("",!0)],42,Or)}}}),Fr=typeof window<"u"?window:void 0,Mt=()=>{},Hr=e=>Tl()?(Ol(e),!0):!1,Wr=(e,a,o,l)=>{if(!e)return Mt;let t=Mt;const v=ma(()=>c(e),y=>{t(),y&&(y.addEventListener(a,o,l),t=()=>{y.removeEventListener(a,o,l),t=Mt})},{immediate:!0,flush:"post"}),u=()=>{v(),t()};return Hr(u),u},zr=(e,a,o,l={})=>{const{window:t=Fr,event:v="pointerdown"}=l;return t?Wr(t,v,u=>{const y=Te(e),b=Te(a);!y||!b||y===u.target||u.composedPath().includes(y)||u.composedPath().includes(b)||o(u)},{passive:!0}):void 0},jr=Ye({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...rt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=Ma(),u=X(!1),y=Za(t,"modelValue"),b=Za(t,"timezone"),P=X(null),f=X(null),p=X(null),S=X(!1),w=X(null),N=X(!1),A=X(!1),q=X(!1),{setMenuFocused:K,setShiftKey:J}=_l(),{clearArrowNav:k}=fa(),{validateDate:$,isValidTime:R}=ha(t),{defaultedTransitions:I,defaultedTextInput:V,defaultedInline:Q,defaultedConfig:G,defaultedRange:ae}=Ce(t),{menuTransition:x,showTransition:Y}=Wa(I);Fe(()=>{d(t.modelValue),pa().then(()=>{if(!Q.value.enabled){const E=le(w.value);E==null||E.addEventListener("scroll",s),window==null||window.addEventListener("resize",H)}}),Q.value.enabled&&(u.value=!0),window==null||window.addEventListener("keyup",ie),window==null||window.addEventListener("keydown",ce)}),at(()=>{if(!Q.value.enabled){const E=le(w.value);E==null||E.removeEventListener("scroll",s),window==null||window.removeEventListener("resize",H)}window==null||window.removeEventListener("keyup",ie),window==null||window.removeEventListener("keydown",ce)});const T=We(v,"all",t.presetDates),M=We(v,"input");ma([y,b],()=>{d(y.value)},{deep:!0});const{openOnTop:i,menuStyle:m,xCorrect:O,setMenuPosition:ee,getScrollableParent:le,shadowRender:L}=xn({menuRef:P,menuRefInner:f,inputRef:p,pickerWrapperRef:w,inline:Q,emit:l,props:t,slots:v}),{inputValue:r,internalModelValue:n,parseExternalModelValue:d,emitModelValue:C,formatInputValue:Z,checkBeforeEmit:h}=An(l,t,S),fe=W(()=>({dp__main:!0,dp__theme_dark:t.dark,dp__theme_light:!t.dark,dp__flex_display:Q.value.enabled,"dp--flex-display-collapsed":q.value,dp__flex_display_with_input:Q.value.input})),we=W(()=>t.dark?"dp__theme_dark":"dp__theme_light"),g=W(()=>({to:typeof t.teleport=="boolean"?"body":t.teleport,disabled:!t.teleport||Q.value.enabled})),ne=W(()=>({class:"dp__outer_menu_wrap"})),me=W(()=>Q.value.enabled&&(t.timePicker||t.monthPicker||t.yearPicker||t.quarterPicker)),s=()=>{u.value&&(G.value.closeOnScroll?je():ee())},H=()=>{var E;u.value&&ee();const oe=(E=f.value)==null?void 0:E.$el.getBoundingClientRect().width;q.value=document.body.offsetWidth<=oe},ie=E=>{E.key==="Tab"&&!Q.value.enabled&&!t.teleport&&G.value.tabOutClosesMenu&&(w.value.contains(document.activeElement)||je()),A.value=E.shiftKey},ce=E=>{A.value=E.shiftKey},xe=()=>{!t.disabled&&!t.readonly&&(L(el,t),ee(!1),u.value=!0,u.value&&l("open"),u.value||Va(),d(t.modelValue))},j=()=>{var E;r.value="",Va(),(E=p.value)==null||E.setParsedDate(null),l("update:model-value",null),l("update:model-timezone-value",null),l("cleared"),G.value.closeOnClearValue&&je()},Ge=()=>{const E=n.value;return!E||!Array.isArray(E)&&$(E)?!0:Array.isArray(E)?t.multiDates||E.length===2&&$(E[0])&&$(E[1])?!0:ae.value.partialRange&&!t.timePicker?$(E[0]):!1:!1},He=()=>{h()&&Ge()?(C(),je()):l("invalid-select",n.value)},Ua=E=>{Oa(),C(),G.value.closeOnAutoApply&&!E&&je()},Oa=()=>{p.value&&V.value.enabled&&p.value.setParsedDate(n.value)},Ba=(E=!1)=>{t.autoApply&&R(n.value)&&Ge()&&(ae.value.enabled&&Array.isArray(n.value)?(ae.value.partialRange||n.value.length===2)&&Ua(E):Ua(E))},Va=()=>{V.value.enabled||(n.value=null)},je=()=>{Q.value.enabled||(u.value&&(u.value=!1,O.value=!1,K(!1),J(!1),k(),l("closed"),r.value&&d(y.value)),Va(),l("blur"))},it=(E,oe,ue=!1)=>{if(!E){n.value=null;return}const na=Array.isArray(E)?!E.some(ga=>!$(ga)):$(E),Ze=R(E);na&&Ze&&(n.value=E,oe&&(N.value=ue,He(),l("text-submit")))},st=()=>{t.autoApply&&R(n.value)&&C(),Oa()},Ga=()=>u.value?je():xe(),dt=E=>{n.value=E},ct=()=>{V.value.enabled&&(S.value=!0,Z()),l("focus")},vt=()=>{if(V.value.enabled&&(S.value=!1,d(t.modelValue),N.value)){const E=Jl(w.value,A.value);E==null||E.focus()}l("blur")},_=E=>{f.value&&f.value.updateMonthYear(0,{month:Gt(E.month),year:Gt(E.year)})},U=E=>{d(E??t.modelValue)},re=(E,oe)=>{var ue;(ue=f.value)==null||ue.switchView(E,oe)},ve=E=>G.value.onClickOutside?G.value.onClickOutside(E):je();return zr(P,p,()=>ve(Ge)),a({closeMenu:je,selectDate:He,clearValue:j,openMenu:xe,onScroll:s,formatInputValue:Z,updateInternalModelValue:dt,setMonthYear:_,parseModel:U,switchView:re,toggleMenu:Ga}),(E,oe)=>(D(),F("div",{ref_key:"pickerWrapperRef",ref:w,class:ke(fe.value),"data-datepicker-instance":""},[Ue(Vn,Ve({ref_key:"inputRef",ref:p,"input-value":c(r),"onUpdate:inputValue":oe[0]||(oe[0]=ue=>Ft(r)?r.value=ue:null),"is-menu-open":u.value},E.$props,{onClear:j,onOpen:xe,onSetInputDate:it,onSetEmptyDate:c(C),onSelectDate:He,onToggle:Ga,onClose:je,onFocus:ct,onBlur:vt,onRealBlur:oe[1]||(oe[1]=ue=>S.value=!1)}),Le({_:2},[$e(c(M),(ue,na)=>({name:ue,fn:ye(Ze=>[te(E.$slots,ue,Pe(Ie(Ze)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(D(),be(tt(E.teleport?Sl:"div"),Pe(Ie(g.value)),{default:ye(()=>[Ue(Pa,{name:c(x)(c(i)),css:c(Y)&&!c(Q).enabled},{default:ye(()=>[u.value?(D(),F("div",Ve({key:0,ref_key:"dpWrapMenuRef",ref:P},ne.value,{class:{"dp--menu-wrapper":!c(Q).enabled},style:c(Q).enabled?void 0:c(m)}),[Ue(el,Ve({ref_key:"dpMenuRef",ref:f},E.$props,{"internal-model-value":c(n),"onUpdate:internalModelValue":oe[2]||(oe[2]=ue=>Ft(n)?n.value=ue:null),class:{[we.value]:!0,"dp--menu-wrapper":E.teleport},"open-on-top":c(i),"no-overlay-focus":me.value,collapse:q.value,onClosePicker:je,onSelectDate:He,onAutoApply:Ba,onTimeUpdate:st,onFlowStep:oe[3]||(oe[3]=ue=>E.$emit("flow-step",ue)),onUpdateMonthYear:oe[4]||(oe[4]=ue=>E.$emit("update-month-year",ue)),onInvalidSelect:oe[5]||(oe[5]=ue=>E.$emit("invalid-select",c(n))),onAutoApplyInvalid:oe[6]||(oe[6]=ue=>E.$emit("invalid-select",ue)),onInvalidFixedRange:oe[7]||(oe[7]=ue=>E.$emit("invalid-fixed-range",ue)),onRecalculatePosition:c(ee),onTooltipOpen:oe[8]||(oe[8]=ue=>E.$emit("tooltip-open",ue)),onTooltipClose:oe[9]||(oe[9]=ue=>E.$emit("tooltip-close",ue)),onTimePickerOpen:oe[10]||(oe[10]=ue=>E.$emit("time-picker-open",ue)),onTimePickerClose:oe[11]||(oe[11]=ue=>E.$emit("time-picker-close",ue)),onAmPmChange:oe[12]||(oe[12]=ue=>E.$emit("am-pm-change",ue)),onRangeStart:oe[13]||(oe[13]=ue=>E.$emit("range-start",ue)),onRangeEnd:oe[14]||(oe[14]=ue=>E.$emit("range-end",ue)),onDateUpdate:oe[15]||(oe[15]=ue=>E.$emit("date-update",ue)),onInvalidDate:oe[16]||(oe[16]=ue=>E.$emit("invalid-date",ue))}),Le({_:2},[$e(c(T),(ue,na)=>({name:ue,fn:ye(Ze=>[te(E.$slots,ue,Pe(Ie({...Ze})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):z("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),xl=(()=>{const e=jr;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),Ur=Object.freeze(Object.defineProperty({__proto__:null,default:xl},Symbol.toStringTag,{value:"Module"}));Object.entries(Ur).forEach(([e,a])=>{e!=="default"&&(xl[e]=a)});export{xl as C};
